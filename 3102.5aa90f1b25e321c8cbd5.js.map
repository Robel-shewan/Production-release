{"version":3,"file":"3102.5aa90f1b25e321c8cbd5.js","mappings":"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","sources":["webpack://mattermost-webapp/./src/components/login/login.tsx","webpack://mattermost-webapp/./src/components/common/svg_images_components/shield_with_checkmark.tsx","webpack://mattermost-webapp/./src/components/login/login_mfa.tsx"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\n/* eslint-disable max-lines */\n\nimport classNames from 'classnames';\nimport throttle from 'lodash/throttle';\nimport React, {useState, useEffect, useRef, useCallback} from 'react';\nimport type {FormEvent} from 'react';\nimport {useIntl} from 'react-intl';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {Link, useLocation, useHistory, Route} from 'react-router-dom';\n\nimport type {Team} from '@mattermost/types/teams';\n\nimport {loadMe} from 'mattermost-redux/actions/users';\nimport {Client4} from 'mattermost-redux/client';\nimport {RequestStatus} from 'mattermost-redux/constants';\nimport {getConfig, getLicense} from 'mattermost-redux/selectors/entities/general';\nimport {getIsOnboardingFlowEnabled} from 'mattermost-redux/selectors/entities/preferences';\nimport {getTeamByName, getMyTeamMember} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\n\nimport {redirectUserToDefaultTeam} from 'actions/global_actions';\nimport {addUserToTeamFromInvite} from 'actions/team_actions';\nimport {trackEvent} from 'actions/telemetry_actions';\nimport {login} from 'actions/views/login';\nimport LocalStorageStore from 'stores/local_storage_store';\n\nimport AlertBanner from 'components/alert_banner';\nimport type {ModeType, AlertBannerProps} from 'components/alert_banner';\nimport type {SubmitOptions} from 'components/claim/components/email_to_ldap';\nimport DesktopAuthToken from 'components/desktop_auth_token';\nimport ExternalLink from 'components/external_link';\nimport ExternalLoginButton from 'components/external_login_button/external_login_button';\nimport type {ExternalLoginButtonType} from 'components/external_login_button/external_login_button';\nimport AlternateLinkLayout from 'components/header_footer_route/content_layouts/alternate_link';\nimport ColumnLayout from 'components/header_footer_route/content_layouts/column';\nimport type {CustomizeHeaderType} from 'components/header_footer_route/header_footer_route';\nimport LoadingScreen from 'components/loading_screen';\nimport Markdown from 'components/markdown';\nimport SaveButton from 'components/save_button';\nimport LockIcon from 'components/widgets/icons/lock_icon';\nimport LoginGitlabIcon from 'components/widgets/icons/login_gitlab_icon';\nimport LoginGoogleIcon from 'components/widgets/icons/login_google_icon';\nimport LoginOffice365Icon from 'components/widgets/icons/login_office_365_icon';\nimport LoginOpenIDIcon from 'components/widgets/icons/login_openid_icon';\nimport Input, {SIZE} from 'components/widgets/inputs/input/input';\nimport PasswordInput from 'components/widgets/inputs/password_input/password_input';\n\nimport Github from 'images/icons/github.png';\nimport Google from 'images/icons/google.png';\nimport linkedin from 'images/icons/linkedin.png';\nimport macImage from 'images/icons/mac.png';\nimport Constants from 'utils/constants';\nimport DesktopApp from 'utils/desktop_api';\nimport {t} from 'utils/i18n';\nimport {showNotification} from 'utils/notifications';\nimport {isDesktopApp} from 'utils/user_agent';\nimport {setCSRFFromCookie} from 'utils/utils';\n\nimport type {GlobalState} from 'types/store';\n\nimport LoginMfa from './login_mfa';\nimport TypingAnimation from './typing_animation';\n\nimport './login.scss';\n\nconst MOBILE_SCREEN_WIDTH = 1200;\n\ntype LoginProps = {\n    onCustomizeHeader?: CustomizeHeaderType;\n}\n\nconst Login = ({onCustomizeHeader}: LoginProps) => {\n    const {formatMessage} = useIntl();\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const {pathname, search, hash} = useLocation();\n\n    const searchParam = new URLSearchParams(search);\n    const extraParam = searchParam.get('extra');\n    const emailParam = searchParam.get('email');\n\n    const {\n        EnableLdap,\n        EnableSaml,\n        EnableSignInWithEmail,\n        EnableSignInWithUsername,\n        EnableSignUpWithEmail,\n        EnableSignUpWithGitLab,\n        EnableSignUpWithOffice365,\n        EnableSignUpWithGoogle,\n        EnableSignUpWithOpenId,\n        EnableOpenServer,\n        EnableUserCreation,\n        LdapLoginFieldName,\n        GitLabButtonText,\n        GitLabButtonColor,\n        OpenIdButtonText,\n        OpenIdButtonColor,\n        SamlLoginButtonText,\n        EnableCustomBrand,\n        CustomBrandText,\n        CustomDescriptionText,\n        SiteName,\n        ExperimentalPrimaryTeam,\n        ForgotPasswordLink,\n        PasswordEnableForgotLink,\n    } = useSelector(getConfig);\n    const {IsLicensed} = useSelector(getLicense);\n    const initializing = useSelector((state: GlobalState) => state.requests.users.logout.status === RequestStatus.SUCCESS || !state.storage.initialized);\n    const currentUser = useSelector(getCurrentUser);\n    const experimentalPrimaryTeam = useSelector((state: GlobalState) => (ExperimentalPrimaryTeam ? getTeamByName(state, ExperimentalPrimaryTeam) : undefined));\n    const experimentalPrimaryTeamMember = useSelector((state: GlobalState) => (experimentalPrimaryTeam ? getMyTeamMember(state, experimentalPrimaryTeam.id) : undefined));\n    const onboardingFlowEnabled = useSelector(getIsOnboardingFlowEnabled);\n\n    const loginIdInput = useRef<HTMLInputElement>(null);\n    const passwordInput = useRef<HTMLInputElement>(null);\n    const closeSessionExpiredNotification = useRef<() => void>();\n\n    const [loginId, setLoginId] = useState(extraParam === Constants.SIGNIN_VERIFIED && emailParam ? emailParam : '');\n    const [password, setPassword] = useState('');\n    const [showMfa, setShowMfa] = useState(false);\n    const [isWaiting, setIsWaiting] = useState(false);\n    const [sessionExpired, setSessionExpired] = useState(false);\n    const [brandImageError, setBrandImageError] = useState(false);\n    const [alertBanner, setAlertBanner] = useState<AlertBannerProps | null>(null);\n    const [hasError, setHasError] = useState(false);\n    const [isMobileView, setIsMobileView] = useState(false);\n\n    const enableCustomBrand = EnableCustomBrand === 'true';\n    const enableLdap = EnableLdap === 'true';\n    const enableOpenServer = EnableOpenServer === 'true';\n    const enableUserCreation = EnableUserCreation === 'true';\n    const enableSaml = EnableSaml === 'true';\n    const enableSignInWithEmail = EnableSignInWithEmail === 'true';\n    const enableSignInWithUsername = EnableSignInWithUsername === 'true';\n    const enableSignUpWithEmail = enableUserCreation && EnableSignUpWithEmail === 'true';\n    const enableSignUpWithGitLab = EnableSignUpWithGitLab === 'true';\n    const enableSignUpWithGoogle = EnableSignUpWithGoogle === 'true';\n    const enableSignUpWithOffice365 = EnableSignUpWithOffice365 === 'true';\n    const enableSignUpWithOpenId = EnableSignUpWithOpenId === 'true';\n    const isLicensed = IsLicensed === 'true';\n    const ldapEnabled = isLicensed && enableLdap;\n    const enableSignUpWithSaml = isLicensed && enableSaml;\n    const siteName = SiteName ?? '';\n\n    const enableBaseLogin = enableSignInWithEmail || enableSignInWithUsername || ldapEnabled;\n    const enableExternalSignup = enableSignUpWithGitLab || enableSignUpWithOffice365 || enableSignUpWithGoogle || enableSignUpWithOpenId || enableSignUpWithSaml;\n    const showSignup = enableOpenServer && (enableExternalSignup || enableSignUpWithEmail || enableLdap);\n    const onlyLdapEnabled = enableLdap && !(enableSaml || enableSignInWithEmail || enableSignInWithUsername || enableSignUpWithEmail || enableSignUpWithGitLab || enableSignUpWithGoogle || enableSignUpWithOffice365 || enableSignUpWithOpenId);\n\n    const query = new URLSearchParams(search);\n    const redirectTo = query.get('redirect_to');\n\n    const [desktopLoginLink, setDesktopLoginLink] = useState('');\n    const wordsArray = [\n        'solve.',\n        'change.',\n        'adapt.',\n        'wonder.',\n        'believe.',\n        'question.',\n        'evolve.',\n        'challenge.',\n        'create.',\n        'grow.',\n        'connect.',\n        'explore.',\n        'see.',\n        'choose.',\n\n        // 'change the game.', // NOTE: This will overflow\n\n        'defy.',\n        'rebel.',\n        'innovate.',\n        'imagine.',\n        'progress.',\n        'dream.',\n        'influence.',\n        'transform.',\n        'decide.',\n        'empower.',\n        'amplify.',\n        'know.',\n        'move.',\n        'build.',\n        'connect.',\n        'support.',\n        'collaborate.',\n        'accelerate.',\n        'discover.',\n        'lead.',\n        'inspire.',\n        'push.',\n        'optimize.',\n        'love.',\n        'advance.',\n        'feel.',\n        'forgive.',\n        'design.',\n        'reflect.',\n        'develop.',\n        'improve.',\n        'become.',\n    ];\n    const getExternalLoginOptions = () => {\n        const externalLoginOptions: ExternalLoginButtonType[] = [];\n\n        if (!enableExternalSignup) {\n            return externalLoginOptions;\n        }\n\n        if (enableSignUpWithGitLab) {\n            const url = `${Client4.getOAuthRoute()}/gitlab/login${search}`;\n            externalLoginOptions.push({\n                id: 'gitlab',\n                url,\n                icon: <LoginGitlabIcon/>,\n                label: GitLabButtonText || formatMessage({id: 'login.gitlab', defaultMessage: 'GitLab'}),\n                style: {color: GitLabButtonColor, borderColor: GitLabButtonColor},\n                onClick: desktopExternalAuth(url),\n            });\n        }\n\n        if (enableSignUpWithGoogle) {\n            const url = `${Client4.getOAuthRoute()}/google/login${search}`;\n            externalLoginOptions.push({\n                id: 'google',\n                url,\n                icon: <LoginGoogleIcon/>,\n                label: formatMessage({id: 'login.google', defaultMessage: 'Google'}),\n                onClick: desktopExternalAuth(url),\n            });\n        }\n\n        if (enableSignUpWithOffice365) {\n            const url = `${Client4.getOAuthRoute()}/office365/login${search}`;\n            externalLoginOptions.push({\n                id: 'office365',\n                url,\n                icon: <LoginOffice365Icon/>,\n                label: formatMessage({id: 'login.office365', defaultMessage: 'Entra ID'}),\n                onClick: desktopExternalAuth(url),\n            });\n        }\n\n        if (enableSignUpWithOpenId) {\n            const url = `${Client4.getOAuthRoute()}/openid/login${search}`;\n            externalLoginOptions.push({\n                id: 'openid',\n                url,\n                icon: <LoginOpenIDIcon/>,\n                label: OpenIdButtonText || formatMessage({id: 'login.openid', defaultMessage: 'Open ID'}),\n                style: {color: OpenIdButtonColor, borderColor: OpenIdButtonColor},\n                onClick: desktopExternalAuth(url),\n            });\n        }\n\n        if (enableSignUpWithSaml) {\n            const url = `${Client4.getUrl()}/login/sso/saml${search}`;\n            externalLoginOptions.push({\n                id: 'saml',\n                url,\n                icon: <LockIcon/>,\n                label: SamlLoginButtonText || formatMessage({id: 'login.saml', defaultMessage: 'SAML'}),\n                onClick: desktopExternalAuth(url),\n            });\n        }\n\n        return externalLoginOptions;\n    };\n\n    const desktopExternalAuth = (href: string) => {\n        return (event: React.MouseEvent) => {\n            if (isDesktopApp()) {\n                event.preventDefault();\n\n                setDesktopLoginLink(href);\n                history.push(`/login/desktop${search}`);\n            }\n        };\n    };\n\n    const dismissAlert = () => {\n        setAlertBanner(null);\n        setHasError(false);\n    };\n\n    const onDismissSessionExpired = useCallback(() => {\n        LocalStorageStore.setWasLoggedIn(false);\n        setSessionExpired(false);\n        DesktopApp.setSessionExpired(false);\n        dismissAlert();\n    }, []);\n\n    const configureTitle = useCallback(() => {\n        document.title = sessionExpired ? (\n            formatMessage(\n                {\n                    id: 'login.session_expired.title',\n                    defaultMessage: '* {siteName} - Session Expired',\n                },\n                {siteName},\n            )\n        ) : siteName;\n    }, [sessionExpired, siteName]);\n\n    const showSessionExpiredNotificationIfNeeded = useCallback(() => {\n        if (sessionExpired && !closeSessionExpiredNotification!.current) {\n            dispatch(showNotification({\n                title: siteName,\n                body: formatMessage({\n                    id: 'login.session_expired.notification',\n                    defaultMessage: 'Session Expired: Please sign in to continue receiving notifications.',\n                }),\n                requireInteraction: true,\n                silent: false,\n                onClick: () => {\n                    window.focus();\n                    if (closeSessionExpiredNotification.current) {\n                        closeSessionExpiredNotification.current();\n                        closeSessionExpiredNotification.current = undefined;\n                    }\n                },\n            })).then(({callback: closeNotification}) => {\n                closeSessionExpiredNotification.current = closeNotification;\n            }).catch(() => {\n                // Ignore the failure to display the notification.\n            });\n        } else if (!sessionExpired && closeSessionExpiredNotification!.current) {\n            closeSessionExpiredNotification.current();\n            closeSessionExpiredNotification.current = undefined;\n        }\n    }, [sessionExpired, siteName]);\n\n    const getAlertData = useCallback(() => {\n        let mode;\n        let title;\n        let onDismiss;\n\n        if (sessionExpired) {\n            mode = 'warning';\n            title = formatMessage({\n                id: 'login.session_expired',\n                defaultMessage: 'Your session has expired. Please log in again.',\n            });\n            onDismiss = onDismissSessionExpired;\n        } else {\n            switch (extraParam) {\n            case Constants.GET_TERMS_ERROR:\n                mode = 'danger';\n                title = formatMessage({\n                    id: 'login.get_terms_error',\n                    defaultMessage: 'Unable to load terms of service. If this issue persists, contact your System Administrator.',\n                });\n                break;\n\n            case Constants.TERMS_REJECTED:\n                mode = 'warning';\n                title = formatMessage(\n                    {\n                        id: 'login.terms_rejected',\n                        defaultMessage: 'You must agree to the terms of use before accessing {siteName}. Please contact your System Administrator for more details.',\n                    },\n                    {siteName},\n                );\n                break;\n\n            case Constants.SIGNIN_CHANGE:\n                mode = 'success';\n                title = formatMessage({\n                    id: 'login.changed',\n                    defaultMessage: 'Sign-in method changed successfully',\n                });\n                break;\n\n            case Constants.SIGNIN_VERIFIED:\n                mode = 'success';\n                title = formatMessage({\n                    id: 'login.verified',\n                    defaultMessage: 'Email Verified',\n                });\n                break;\n\n            case Constants.PASSWORD_CHANGE:\n                mode = 'success';\n                title = formatMessage({\n                    id: 'login.passwordChanged',\n                    defaultMessage: 'Password updated successfully',\n                });\n                break;\n\n            case Constants.CREATE_LDAP:\n                mode = 'success';\n                title = formatMessage({\n                    id: 'login.ldapCreate',\n                    defaultMessage: 'Enter your AD/LDAP username and password to create an account.',\n                });\n                break;\n\n            default:\n                break;\n            }\n        }\n\n        return setAlertBanner(mode ? {mode: mode as ModeType, title, onDismiss} : null);\n    }, [extraParam, sessionExpired, siteName, onDismissSessionExpired]);\n\n    const getAlternateLink = useCallback(() => {\n        const linkLabel = formatMessage({\n            id: 'login.signup',\n            defaultMessage: 'Sign Up',\n        });\n        const handleClick = () => {\n            trackEvent('signup', 'click_login_no_account');\n        };\n        if (showSignup) {\n            return (\n                <AlternateLinkLayout\n                    className='login-body-alternate-link'\n                    alternateLinkPath={'/signup_user_complete'}\n                    alternateLinkLabel={linkLabel}\n                />\n            );\n        }\n        return (\n            <AlternateLinkLayout\n                className='login-body-alternate-link'\n                alternateLinkPath={'/signup_user_complete'}\n                alternateLinkLabel={linkLabel}\n                onClick={handleClick}\n            />\n        );\n    }, [showSignup]);\n\n    const onWindowResize = throttle(() => {\n        setIsMobileView(window.innerWidth < MOBILE_SCREEN_WIDTH);\n    }, 100);\n\n    const onWindowFocus = useCallback(() => {\n        if (extraParam === Constants.SIGNIN_VERIFIED && emailParam) {\n            passwordInput.current?.focus();\n        }\n    }, [emailParam, extraParam]);\n\n    useEffect(() => {\n        if (onCustomizeHeader) {\n            onCustomizeHeader({\n                onBackButtonClick: showMfa ? handleHeaderBackButtonOnClick : undefined,\n                alternateLink: isMobileView ? getAlternateLink() : undefined,\n            });\n        }\n    }, [onCustomizeHeader, search, showMfa, isMobileView, getAlternateLink]);\n\n    useEffect(() => {\n        // We don't want to redirect outside of this route if we're doing Desktop App auth\n        if (query.get('server_token')) {\n            return;\n        }\n\n        if (currentUser) {\n            if (redirectTo && redirectTo.match(/^\\/([^/]|$)/)) {\n                history.push(redirectTo);\n                return;\n            }\n            redirectUserToDefaultTeam();\n            return;\n        }\n\n        onWindowResize();\n        onWindowFocus();\n\n        window.addEventListener('resize', onWindowResize);\n        window.addEventListener('focus', onWindowFocus);\n\n        // Determine if the user was unexpectedly logged out.\n        if (LocalStorageStore.getWasLoggedIn()) {\n            if (extraParam === Constants.SIGNIN_CHANGE) {\n                // Assume that if the user triggered a sign in change, it was intended to logout.\n                // We can't preflight this, since in some flows it's the server that invalidates\n                // our session after we use it to complete the sign in change.\n                LocalStorageStore.setWasLoggedIn(false);\n            } else {\n                setSessionExpired(true);\n                DesktopApp.setSessionExpired(true);\n\n                // Although the authority remains the local sessionExpired bit on the state, set this\n                // extra field in the querystring to signal the desktop app.\n                // This is legacy support for older Desktop Apps and can be removed eventually\n                const newSearchParam = new URLSearchParams(search);\n                newSearchParam.set('extra', Constants.SESSION_EXPIRED);\n                history.replace(`${pathname}?${newSearchParam}`);\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        configureTitle();\n        showSessionExpiredNotificationIfNeeded();\n        getAlertData();\n    }, [configureTitle, showSessionExpiredNotificationIfNeeded, getAlertData]);\n\n    useEffect(() => {\n        return () => {\n            if (closeSessionExpiredNotification!.current) {\n                closeSessionExpiredNotification.current();\n                closeSessionExpiredNotification.current = undefined;\n            }\n\n            window.removeEventListener('resize', onWindowResize);\n            window.removeEventListener('focus', onWindowFocus);\n\n            DesktopApp.setSessionExpired(false);\n        };\n    }, []);\n\n    if (initializing) {\n        return (<LoadingScreen/>);\n    }\n\n    const getInputPlaceholder = () => {\n        const loginPlaceholders = [];\n\n        if (enableSignInWithEmail) {\n            loginPlaceholders.push(formatMessage({id: 'login.email', defaultMessage: 'Email'}));\n        }\n\n        if (enableSignInWithUsername) {\n            loginPlaceholders.push(formatMessage({id: 'login.username', defaultMessage: 'Username'}));\n        }\n\n        if (ldapEnabled) {\n            loginPlaceholders.push(LdapLoginFieldName || formatMessage({id: 'login.ldapUsername', defaultMessage: 'AD/LDAP Username'}));\n        }\n\n        if (loginPlaceholders.length > 1) {\n            const lastIndex = loginPlaceholders.length - 1;\n            return `${loginPlaceholders.slice(0, lastIndex).join(', ')}${formatMessage({id: 'login.placeholderOr', defaultMessage: ' or '})}${loginPlaceholders[lastIndex]}`;\n        }\n\n        return loginPlaceholders[0] ?? '';\n    };\n\n    const preSubmit = (e: React.MouseEvent | React.KeyboardEvent) => {\n        e.preventDefault();\n        setIsWaiting(true);\n\n        // Discard any session expiry notice once the user interacts with the login page.\n        onDismissSessionExpired();\n\n        const newQuery = search.replace(/(extra=password_change)&?/i, '');\n        if (newQuery !== search) {\n            history.replace(`${pathname}${newQuery}${hash}`);\n        }\n\n        // password managers don't always call onInput handlers for form fields so it's possible\n        // for the state to get out of sync with what the user sees in the browser\n        let currentLoginId = loginId;\n        if (loginIdInput.current) {\n            currentLoginId = loginIdInput.current.value;\n\n            if (currentLoginId !== loginId) {\n                setLoginId(currentLoginId);\n            }\n        }\n\n        let currentPassword = password;\n        if (passwordInput.current) {\n            currentPassword = passwordInput.current.value;\n\n            if (currentPassword !== password) {\n                setPassword(currentPassword);\n            }\n        }\n\n        // don't trim the password since we support spaces in passwords\n        currentLoginId = currentLoginId.trim().toLowerCase();\n\n        if (!currentLoginId) {\n            t('login.noEmail');\n            t('login.noEmailLdapUsername');\n            t('login.noEmailUsername');\n            t('login.noEmailUsernameLdapUsername');\n            t('login.noLdapUsername');\n            t('login.noUsername');\n            t('login.noUsernameLdapUsername');\n\n            // it's slightly weird to be constructing the message ID, but it's a bit nicer than triply nested if statements\n            let msgId = 'login.no';\n            if (enableSignInWithEmail) {\n                msgId += 'Email';\n            }\n            if (enableSignInWithUsername) {\n                msgId += 'Username';\n            }\n            if (ldapEnabled) {\n                msgId += 'LdapUsername';\n            }\n\n            setAlertBanner({\n                mode: 'danger',\n                title: formatMessage(\n                    {id: msgId},\n                    {ldapUsername: LdapLoginFieldName || formatMessage({id: 'login.ldapUsernameLower', defaultMessage: 'AD/LDAP username'})},\n                ),\n            });\n            setHasError(true);\n            setIsWaiting(false);\n\n            return;\n        }\n\n        if (!password) {\n            setAlertBanner({\n                mode: 'danger',\n                title: formatMessage({id: 'login.noPassword', defaultMessage: 'Please enter your password'}),\n            });\n            setHasError(true);\n            setIsWaiting(false);\n\n            return;\n        }\n\n        submit({loginId, password});\n    };\n\n    const submit = async ({loginId, password, token}: SubmitOptions) => {\n        setIsWaiting(true);\n\n        const {error: loginError} = await dispatch(login(loginId, password, token));\n\n        if (loginError && loginError.server_error_id && loginError.server_error_id.length !== 0) {\n            if (loginError.server_error_id === 'api.user.login.not_verified.app_error') {\n                history.push('/should_verify_email?&email=' + encodeURIComponent(loginId));\n            } else if (loginError.server_error_id === 'store.sql_user.get_for_login.app_error' ||\n                loginError.server_error_id === 'ent.ldap.do_login.user_not_registered.app_error') {\n                setShowMfa(false);\n                setIsWaiting(false);\n                setAlertBanner({\n                    mode: 'danger',\n                    title: formatMessage({\n                        id: 'login.userNotFound',\n                        defaultMessage: \"We couldn't find an account matching your login credentials.\",\n                    }),\n                });\n                setHasError(true);\n            } else if (loginError.server_error_id === 'api.user.check_user_password.invalid.app_error' ||\n                loginError.server_error_id === 'ent.ldap.do_login.invalid_password.app_error') {\n                setShowMfa(false);\n                setIsWaiting(false);\n                setAlertBanner({\n                    mode: 'danger',\n                    title: formatMessage({\n                        id: 'login.invalidPassword',\n                        defaultMessage: 'Your password is incorrect.',\n                    }),\n                });\n                setHasError(true);\n            } else if (!showMfa && loginError.server_error_id === 'mfa.validate_token.authenticate.app_error') {\n                setShowMfa(true);\n            } else if (loginError.server_error_id === 'api.user.login.invalid_credentials_email_username') {\n                setShowMfa(false);\n                setIsWaiting(false);\n                setAlertBanner({\n                    mode: 'danger',\n                    title: formatMessage({\n                        id: 'login.invalidCredentials',\n                        defaultMessage: 'The email/username or password is invalid.',\n                    }),\n                });\n                setHasError(true);\n            } else {\n                setShowMfa(false);\n                setIsWaiting(false);\n                setAlertBanner({\n                    mode: 'danger',\n                    title: loginError.message,\n                });\n                setHasError(true);\n            }\n            return;\n        }\n\n        await postSubmit();\n    };\n\n    const postSubmit = async () => {\n        await dispatch(loadMe());\n\n        // check for query params brought over from signup_user_complete\n        const params = new URLSearchParams(search);\n        const inviteToken = params.get('t') || '';\n        const inviteId = params.get('id') || '';\n\n        if (inviteId || inviteToken) {\n            const {data: team} = await dispatch(addUserToTeamFromInvite(inviteToken, inviteId));\n\n            if (team) {\n                finishSignin(team);\n            } else {\n                // there's not really a good way to deal with this, so just let the user log in like normal\n                finishSignin();\n            }\n        } else {\n            finishSignin();\n        }\n    };\n\n    const finishSignin = (team?: Team) => {\n        setCSRFFromCookie();\n\n        // Record a successful login to local storage. If an unintentional logout occurs, e.g.\n        // via session expiration, this bit won't get reset and we can notify the user as such.\n        LocalStorageStore.setWasLoggedIn(true);\n\n        // After a user has just logged in, we set the following flag to \"false\" so that after\n        // a user is notified of successful login, we can set it back to \"true\"\n        LocalStorageStore.setWasNotifiedOfLogIn(false);\n\n        if (redirectTo && redirectTo.match(/^\\/([^/]|$)/)) {\n            history.push(redirectTo);\n        } else if (team) {\n            history.push(`/${team.name}`);\n        } else if (experimentalPrimaryTeamMember?.team_id) {\n            // Only set experimental team if user is on that team\n            history.push(`/${ExperimentalPrimaryTeam}`);\n        } else if (onboardingFlowEnabled) {\n            // need info about whether admin or not,\n            // and whether admin has already completed\n            // first time onboarding. Instead of fetching and orchestrating that here,\n            // let the default root component handle it.\n            history.push('/');\n        } else {\n            redirectUserToDefaultTeam();\n        }\n    };\n\n    const handleHeaderBackButtonOnClick = () => {\n        setShowMfa(false);\n    };\n\n    const handleInputOnChange = ({target: {value: loginId}}: React.ChangeEvent<HTMLInputElement>) => {\n        setLoginId(loginId);\n\n        if (hasError) {\n            setHasError(false);\n            dismissAlert();\n        }\n    };\n\n    const handlePasswordInputOnChange = ({target: {value: password}}: React.ChangeEvent<HTMLInputElement>) => {\n        setPassword(password);\n\n        if (hasError) {\n            setHasError(false);\n            dismissAlert();\n        }\n    };\n\n    const handleBrandImageError = () => {\n        setBrandImageError(true);\n    };\n\n    const getCardTitle = () => {\n        if (CustomDescriptionText) {\n            return CustomDescriptionText;\n        }\n\n        if (!enableBaseLogin && enableExternalSignup) {\n            return formatMessage({id: 'login.cardtitle.external', defaultMessage: 'Log in with one of the following:'});\n        }\n\n        return formatMessage({id: 'login.cardtitle', defaultMessage: 'Log in'});\n    };\n\n    const getMessageSubtitle = () => {\n        if (enableCustomBrand) {\n            return CustomBrandText ? (\n                <div className='login-body-custom-branding-markdown'>\n                    <Markdown\n                        message={CustomBrandText}\n                        options={{mentionHighlight: false}}\n                    />\n                </div>\n            ) : null;\n        }\n\n        return (\n            <p className='login-body-message-subtitle'>\n                {'Welcome to the Infogito Platform.'}\n                <br/>\n                {'Home of the '} <strong>{'Discovery Engine'}</strong>\n            </p>\n        );\n    };\n\n    const getResetPasswordLink = () => {\n        if (!PasswordEnableForgotLink || PasswordEnableForgotLink === 'false' || onlyLdapEnabled) {\n            return null;\n        }\n\n        if (ForgotPasswordLink) {\n            return (\n                <div className='login-body-card-form-link'>\n                    <ExternalLink\n                        location='login_page'\n                        href={ForgotPasswordLink}\n                    >\n                        {formatMessage({id: 'login.forgot', defaultMessage: 'Forgot your password?'})}\n                    </ExternalLink>\n                </div>\n            );\n        }\n\n        if (enableSignInWithUsername || enableSignInWithEmail) {\n            return (\n                <div className='login-body-card-form-link'>\n                    <Link to='/reset_password'>\n                        {formatMessage({id: 'login.forgot', defaultMessage: 'Forgot your password?'})}\n                    </Link>\n                </div>\n            );\n        }\n\n        return null;\n    };\n\n    const getContent = () => {\n        if (showMfa) {\n            return (\n                <LoginMfa\n                    loginId={loginId}\n                    password={password}\n                    onSubmit={submit}\n                />\n            );\n        }\n\n        if (!enableBaseLogin && !enableExternalSignup) {\n            return (\n                <ColumnLayout\n                    title={formatMessage({id: 'login.noMethods.title', defaultMessage: 'This server doesn’t have any sign-in methods enabled'})}\n                    message={formatMessage({id: 'login.noMethods.subtitle', defaultMessage: 'Please contact your System Administrator to resolve this.'})}\n                />\n            );\n        }\n\n        if (desktopLoginLink || query.get('server_token')) {\n            return (\n                <Route\n                    path={'/login/desktop'}\n                    render={() => (\n                        <DesktopAuthToken\n                            href={desktopLoginLink}\n                            onLogin={postSubmit}\n                        />\n                    )}\n                />\n            );\n        }\n\n        return (\n            <>\n                {!isMobileView && (\n                    <div\n                        className={classNames(\n                            'login-body-message',\n                            {\n                                'custom-branding': enableCustomBrand,\n                                'with-brand-image': enableCustomBrand && !brandImageError,\n                                'with-alternate-link': showSignup && !isMobileView,\n                            },\n                        )}\n                    >\n                        {enableCustomBrand && !brandImageError ? (\n                            <img\n                                className={classNames('login-body-custom-branding-image')}\n                                alt='brand image'\n                                src={Client4.getBrandImageUrl('0')}\n                                onError={handleBrandImageError}\n                            />\n                        ) : (\n                            <h1 className='login-body-message-title'>\n                                {'I think, '}<span>{'therefore I '}\n                                    <TypingAnimation words={wordsArray}/>\n                                </span>\n                            </h1>\n\n                        )}\n                        {getMessageSubtitle()}\n                    </div>\n                )}\n                <div className='login-body-action'>\n                    {!isMobileView && <p className='dont_p'>{'Don\\'t have an account?'} {getAlternateLink()}</p>}\n                    <div className={classNames('login-body-card', {'custom-branding': enableCustomBrand, 'with-error': hasError})}>\n                        <div\n                            className='login-body-card-content'\n                            tabIndex={0}\n                        >\n                            {enableCustomBrand && getMessageSubtitle()}\n                            {alertBanner && (\n                                <AlertBanner\n                                    className='login-body-card-banner'\n                                    mode={alertBanner.mode}\n                                    title={alertBanner.title}\n                                    onDismiss={alertBanner.onDismiss ?? dismissAlert}\n                                />\n                            )}\n                            <p className='login-body-card-title'>\n                                {getCardTitle()}\n                            </p>\n\n                            {enableBaseLogin && (\n                                <form\n                                    onSubmit={(event: FormEvent<HTMLFormElement>) => {\n                                        preSubmit(event as unknown as React.MouseEvent);\n                                    }}\n                                >\n                                    <div className='login-body-card-form'>\n                                        <Input\n                                            ref={loginIdInput}\n                                            name='loginId'\n                                            containerClassName='login-body-card-form-input'\n                                            type='text'\n                                            inputSize={SIZE.LARGE}\n                                            value={loginId}\n                                            onChange={handleInputOnChange}\n                                            hasError={hasError}\n                                            placeholder={getInputPlaceholder()}\n                                            disabled={isWaiting}\n                                            autoFocus={true}\n                                        />\n                                        <PasswordInput\n                                            ref={passwordInput}\n                                            className='login-body-card-form-password-input'\n                                            value={password}\n                                            inputSize={SIZE.LARGE}\n                                            onChange={handlePasswordInputOnChange}\n                                            hasError={hasError}\n                                            disabled={isWaiting}\n                                        />\n                                        {getResetPasswordLink()}\n                                        <div className='text-with-lines'>{'or'}</div>\n\n                                        <div className='icons_div'>\n                                            <img\n                                                src={Google}\n                                                className='signIn_icons'\n                                            />\n                                            <img\n                                                src={macImage}\n                                                className='signIn_icons'\n                                            />\n\n                                            <img\n                                                src={Github}\n                                                className='signIn_icons'\n                                            />\n                                            <img\n                                                src={linkedin}\n                                                className='signIn_icons'\n                                            />\n\n                                        </div>\n\n                                        <SaveButton\n                                            extraClasses='login-body-card-form-button-submit large'\n                                            saving={isWaiting}\n                                            onClick={preSubmit}\n                                            defaultMessage={formatMessage({id: 'login.logIn', defaultMessage: 'Log in'})}\n                                            savingMessage={formatMessage({id: 'login.logingIn', defaultMessage: 'Logging in…'})}\n                                        />\n                                    </div>\n                                </form>\n                            )}\n                            {enableBaseLogin && enableExternalSignup && (\n                                <div className='login-body-card-form-divider'>\n                                    <span className='login-body-card-form-divider-label'>\n                                        {formatMessage({id: 'login.or', defaultMessage: 'or log in with'})}\n                                    </span>\n                                </div>\n                            )}\n                            {enableExternalSignup && (\n                                <div className={classNames('login-body-card-form-login-options', {column: !enableBaseLogin})}>\n                                    {getExternalLoginOptions().map((option) => (\n                                        <ExternalLoginButton\n                                            key={option.id}\n                                            direction={enableBaseLogin ? undefined : 'column'}\n                                            {...option}\n                                        />\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </>\n        );\n    };\n\n    return (\n        <div className='login-body'>\n            <div className='login-body-content'>\n                {getContent()}\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\ntype SvgProps = {\n    width?: number;\n    height?: number;\n}\n\nconst Svg = (props: SvgProps) => (\n    <svg\n        width={props.width?.toString() || '102'}\n        height={props.height?.toString() || '123'}\n        viewBox='0 0 102 123'\n        fill='none'\n        xmlns='http://www.w3.org/2000/svg'\n    >\n        <path\n            d='M101.675 27.9958L99.2946 16.0841C98.9367 14.3239 97.8957 12.7705 96.3927 11.7537C85.2266 4.1723 70.423 0.223633 51.0193 0.223633C31.6156 0.223633 16.7987 4.17233 5.67264 11.7801C4.17376 12.8008 3.13398 14.3524 2.7708 16.1104L0.336967 27.9958C0.184635 28.743 0.245121 29.5171 0.511798 30.2325C0.778474 30.948 1.24096 31.5769 1.84808 32.0498C5.05752 34.5111 6.51514 37.7622 7.19714 41.8688C7.96339 46.1871 7.78096 50.6168 6.6622 54.8599C-3.27367 93.2541 13.4555 110.72 50.9524 122.777C88.3958 110.72 105.165 93.2541 95.2293 54.8599C94.1175 50.6158 93.9351 46.1876 94.6944 41.8688C95.4299 37.7622 96.8875 34.5111 100.043 32.0498C100.675 31.593 101.162 30.9705 101.451 30.2536C101.74 29.5366 101.817 28.7542 101.675 27.9958Z'\n            fill='#CC8F00'\n        />\n        <path\n            d='M51.019 113.063C16.9455 101.507 8.05264 87.1071 15.8088 57.1236C17.2606 51.6118 17.4932 45.8575 16.4908 40.2496C15.7615 35.2997 13.534 30.681 10.0986 26.9954L11.7568 18.8348C21.4921 12.4906 34.3433 9.41064 51.019 9.41064C67.6947 9.41064 80.5324 12.4906 90.2677 18.8348L91.9259 26.9954C88.4947 30.6822 86.2718 35.301 85.5471 40.2496C84.5448 45.8575 84.7773 51.6118 86.2291 57.1236C93.9451 87.0939 85.0925 101.572 51.019 113.063Z'\n            fill='var(--away-indicator)'\n        />\n        <path\n            d='M51.019 113.063C16.9455 101.507 8.05264 87.1071 15.8088 57.1236C17.2606 51.6118 17.4932 45.8575 16.4908 40.2496C15.7615 35.2997 13.534 30.681 10.0986 26.9954L11.7568 18.8348C21.4921 12.4906 34.3433 9.41064 51.019 9.41064C67.6947 9.41064 80.5324 12.4906 90.2677 18.8348L91.9259 26.9954C88.4947 30.6822 86.2718 35.301 85.5471 40.2496C84.5448 45.8575 84.7773 51.6118 86.2291 57.1236C93.9451 87.0939 85.0925 101.572 51.019 113.063Z'\n            fill='var(--away-indicator)'\n        />\n        <path\n            d='M51.019 52.4511V9.43701C34.3433 9.43701 21.4921 12.5169 11.7568 18.8611L10.0986 27.0217C13.534 30.7073 15.7615 35.3261 16.4908 40.276C17.2085 44.307 17.2852 48.4233 16.7181 52.4774L51.019 52.4511Z'\n            fill='var(--away-indicator)'\n        />\n        <path\n            d='M51.0195 113.063C85.093 101.573 93.9457 87.0941 86.2297 57.1237C85.8321 55.5847 85.5241 54.0247 85.3069 52.4512H51.0195V113.063Z'\n            fill='var(--away-indicator)'\n        />\n        <path\n            d='M15.809 57.1237C8.05289 87.1072 16.9457 101.507 51.0192 113.063V52.4512H16.7184C16.5058 54.0245 16.2022 55.5845 15.809 57.1237Z'\n            fill='#FFD470'\n        />\n        <path\n            d='M51.0195 9.43701V52.4774H85.3069C84.7377 48.423 84.8189 44.3057 85.5476 40.276C86.2723 35.3274 88.4952 30.7085 91.9264 27.0217L90.2682 18.8611C80.5731 12.4906 67.6819 9.43701 51.0195 9.43701Z'\n            fill='#FFD470'\n        />\n        <path\n            d='M71.0644 38.9336L43.4633 68.8118L35.4531 62.8361H31L43.4633 82.7505L75.5175 38.9336H71.0644Z'\n            fill='#6F370B'\n        />\n    </svg>\n);\n\nexport default Svg;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {type ReactNode, useState} from 'react';\nimport {useIntl} from 'react-intl';\n\nimport type {SubmitOptions} from 'components/claim/components/email_to_ldap';\nimport ShieldWithCheckmarkSVG from 'components/common/svg_images_components/shield_with_checkmark';\nimport ColumnLayout from 'components/header_footer_route/content_layouts/column';\nimport SaveButton from 'components/save_button';\nimport Input, {SIZE} from 'components/widgets/inputs/input/input';\n\nimport './login_mfa.scss';\n\ntype LoginMfaProps = {\n    loginId: string | null;\n    password: string;\n    title?: ReactNode;\n    subtitle?: ReactNode;\n    onSubmit: ({loginId, password, token}: SubmitOptions) => void;\n}\n\nconst LoginMfa = ({loginId, password, title, subtitle, onSubmit}: LoginMfaProps) => {\n    const {formatMessage} = useIntl();\n\n    const [token, setToken] = useState('');\n    const [saving, setSaving] = useState(false);\n\n    const handleInputOnChange = ({target: {value: token}}: React.ChangeEvent<HTMLInputElement>) => {\n        setToken(token.trim().replace(/\\s/g, ''));\n    };\n\n    const handleSaveButtonOnClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n        e.preventDefault();\n\n        if (!saving) {\n            setSaving(true);\n\n            onSubmit({loginId: loginId || '', password, token});\n        }\n    };\n\n    const onEnterKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n        if (token) {\n            handleSaveButtonOnClick(e);\n        }\n    };\n\n    return (\n        <ColumnLayout\n            title={title || formatMessage({id: 'login_mfa.title', defaultMessage: 'Enter MFA Token'})}\n            message={subtitle || formatMessage({id: 'login_mfa.subtitle', defaultMessage: 'To complete the sign in process, please enter a token from your smartphone\\'s authenticator'})}\n            SVGElement={<ShieldWithCheckmarkSVG/>}\n            extraContent={(\n                <div className='login-mfa-form'>\n                    <Input\n                        name='token'\n                        containerClassName='login-mfa-form-input'\n                        type='text'\n                        inputSize={SIZE.LARGE}\n                        value={token}\n                        onChange={handleInputOnChange}\n                        placeholder={formatMessage({id: 'login_mfa.token', defaultMessage: 'Enter MFA Token'})}\n                        autoFocus={true}\n                        disabled={saving}\n                    />\n                    <div className='login-mfa-form-button-container'>\n                        <SaveButton\n                            extraClasses='login-mfa-form-button-submit large'\n                            saving={saving}\n                            disabled={!token}\n                            onClick={handleSaveButtonOnClick}\n                            defaultMessage={formatMessage({id: 'login_mfa.submit', defaultMessage: 'Submit'})}\n                            savingMessage={formatMessage({id: 'login_mfa.saving', defaultMessage: 'Logging in…'})}\n                        />\n                    </div>\n                </div>\n            )}\n            onEnterKeyDown={onEnterKeyDown}\n        />\n    );\n};\n\nexport default LoginMfa;\n"],"names":["_ref","onCustomizeHeader","formatMessage","useIntl","dispatch","useDispatch","history","useHistory","pathname","search","hash","useLocation","searchParam","URLSearchParams","extraParam","get","emailParam","EnableLdap","EnableSaml","EnableSignInWithEmail","EnableSignInWithUsername","EnableSignUpWithEmail","EnableSignUpWithGitLab","EnableSignUpWithOffice365","EnableSignUpWithGoogle","EnableSignUpWithOpenId","EnableOpenServer","EnableUserCreation","LdapLoginFieldName","GitLabButtonText","GitLabButtonColor","OpenIdButtonText","OpenIdButtonColor","SamlLoginButtonText","EnableCustomBrand","CustomBrandText","CustomDescriptionText","SiteName","ExperimentalPrimaryTeam","ForgotPasswordLink","PasswordEnableForgotLink","useSelector","getConfig","IsLicensed","getLicense","initializing","state","requests","users","logout","status","RequestStatus","storage","initialized","currentUser","getCurrentUser","experimentalPrimaryTeam","getTeamByName","undefined","experimentalPrimaryTeamMember","getMyTeamMember","id","onboardingFlowEnabled","getIsOnboardingFlowEnabled","loginIdInput","useRef","passwordInput","closeSessionExpiredNotification","loginId","setLoginId","useState","Constants","password","setPassword","showMfa","setShowMfa","isWaiting","setIsWaiting","sessionExpired","setSessionExpired","brandImageError","setBrandImageError","alertBanner","setAlertBanner","hasError","setHasError","isMobileView","setIsMobileView","enableCustomBrand","enableLdap","enableSaml","enableSignInWithEmail","enableSignInWithUsername","enableSignUpWithEmail","enableSignUpWithGitLab","enableSignUpWithGoogle","enableSignUpWithOffice365","enableSignUpWithOpenId","isLicensed","ldapEnabled","enableSignUpWithSaml","siteName","enableBaseLogin","enableExternalSignup","showSignup","onlyLdapEnabled","query","redirectTo","desktopLoginLink","setDesktopLoginLink","desktopExternalAuth","href","event","isDesktopApp","preventDefault","push","concat","dismissAlert","onDismissSessionExpired","useCallback","LocalStorageStore","DesktopApp","configureTitle","document","title","defaultMessage","showSessionExpiredNotificationIfNeeded","current","showNotification","body","requireInteraction","silent","onClick","window","focus","then","_ref2","callback","closeNotification","catch","getAlertData","mode","onDismiss","getAlternateLink","linkLabel","React","AlternateLinkLayout","className","alternateLinkPath","alternateLinkLabel","handleClick","trackEvent","onWindowResize","throttle","innerWidth","onWindowFocus","_passwordInput$curren","useEffect","onBackButtonClick","handleHeaderBackButtonOnClick","alternateLink","match","redirectUserToDefaultTeam","addEventListener","newSearchParam","set","replace","removeEventListener","LoadingScreen","preSubmit","e","newQuery","currentLoginId","value","currentPassword","trim","toLowerCase","t","msgId","ldapUsername","submit","async","token","_ref3","error","loginError","login","server_error_id","length","encodeURIComponent","message","postSubmit","loadMe","params","inviteToken","inviteId","data","team","addUserToTeamFromInvite","finishSignin","setCSRFFromCookie","name","team_id","getMessageSubtitle","Markdown","options","mentionHighlight","LoginMfa","onSubmit","Route","path","render","DesktopAuthToken","onLogin","classNames","alt","src","Client4","onError","handleBrandImageError","TypingAnimation","words","tabIndex","AlertBanner","_alertBanner$onDismis","Input","ref","containerClassName","type","inputSize","SIZE","onChange","_ref4","target","placeholder","getInputPlaceholder","_loginPlaceholders$","loginPlaceholders","lastIndex","slice","join","disabled","autoFocus","PasswordInput","_ref5","ExternalLink","location","Link","to","Google","macImage","Github","linkedin","SaveButton","extraClasses","saving","savingMessage","column","getExternalLoginOptions","externalLoginOptions","url","icon","LoginGitlabIcon","label","style","color","borderColor","LoginGoogleIcon","LoginOffice365Icon","LoginOpenIDIcon","LockIcon","map","option","ExternalLoginButton","Object","assign","key","direction","ColumnLayout","getContent","Svg","props","_props$width","_props$height","width","toString","height","viewBox","fill","xmlns","d","propTypes","_pt","subtitle","setToken","setSaving","handleSaveButtonOnClick","SVGElement","ShieldWithCheckmarkSVG","extraContent","onEnterKeyDown"],"sourceRoot":""}