"use strict";(self.webpackChunkmattermost_webapp=self.webpackChunkmattermost_webapp||[]).push([[4363,6227,8057],{95157:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ee});var a=n(70314),s=n(36891),r=n(73443),l=n(97042),i=n(4500),o=n(43618),h=n(19601),c=n(11298),d=n(23894),m=n(73318),u=n(40364),p=n(39183),g=n(84459),C=n(59161),f=n(23712),b=n(23615),E=n.n(b),v=(n(52077),n(83526),n(61418),n(40895),n(69217),n(14078),n(44270),n(83315),n(92189),n(60042)),M=n.n(v),_=n(84390),P=n.n(_),y=n(72060),S=n(6098),w=n(52173),N=n(25598),A=n(78892),k=n(77800),R=n(45448),I=n(39875);n(48410);const x=e=>P().createElement("svg",Object.assign({width:140,height:141,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),P().createElement("path",{opacity:.4,d:"M37.593 38.008c4.754-4.815 10.754-7.295 17.989-7.428 7.101.133 13.065 2.601 17.892 7.428 4.815 4.827 7.295 10.791 7.428 17.892-.133 7.235-2.601 13.223-7.428 17.99-4.827 4.754-10.791 7.27-17.892 7.512-7.235-.254-13.223-2.758-17.99-7.513-4.754-4.766-7.258-10.766-7.512-18 .254-7.102 2.758-13.066 7.513-17.881Z",fill:"#fff"}),P().createElement("path",{d:"M78.887 51.382c-2.151-6.992-6.225-12.225-12.226-15.69-6.001-3.465-12.57-4.376-19.701-2.743-3.9.995-7.297 2.717-10.22 5.162 3.269-3.567 7.415-6.037 12.428-7.416 7.13-1.633 13.732-.703 19.787 2.793s10.161 8.748 12.313 15.74c1.323 5.037 1.257 9.862-.21 14.47-1.454 4.614-4.066 8.49-7.84 11.611 2.833-3.087 4.783-6.713 5.844-10.894 1.05-4.187.991-8.522-.175-13.033Z",fill:"#000",fillOpacity:.4}),P().createElement("path",{d:"M86.76 53.929c-.508-7.506-3.553-14.097-9.125-19.774-6.346-6.05-13.67-9.08-21.974-9.08-8.303 0-15.616 3.03-21.961 9.08-6.08 6.315-9.126 13.591-9.126 21.855 0 8.262 3.046 15.551 9.126 21.854 5.826 5.556 12.485 8.551 19.967 8.984 7.481.445 14.383-1.611 20.728-6.146l4.75 4.727 6.08-6.05-4.75-4.727c4.69-6.302 6.78-13.218 6.285-20.723Zm-13.126 19.87c-4.823 4.726-10.781 7.228-17.876 7.468-7.228-.252-13.21-2.742-17.973-7.469-4.75-4.727-7.252-10.692-7.506-17.885.254-7.06 2.756-12.99 7.506-17.789 4.75-4.787 10.745-7.252 17.973-7.385 7.095.133 13.053 2.586 17.876 7.385 4.81 4.8 7.288 10.73 7.421 17.79-.133 7.192-2.599 13.157-7.421 17.884Z",fill:"#BABEC9"}),P().createElement("path",{d:"M106.202 114.187c-1.567.449-2.728.291-3.482-.472L78.06 86.651c-.753-.762-1.064-1.743-.945-2.954.12-1.211.874-2.567 2.262-4.093 1.507-1.393 2.847-2.192 4.044-2.385 1.196-.194 2.165.157 2.92 1.053l26.921 24.957c.753.763.873 1.901.37 3.427-.502 1.525-1.447 3.051-2.823 4.577-1.496 1.526-3.039 2.506-4.607 2.954Z",fill:"#FFBC1F"}),P().createElement("path",{d:"m108.007 98.343-10.08 10.164-12.154-13.34 8.914-9.106 13.32 12.282Z",fill:"#7A5600"}));var T=n(26341),J=n(26771),L=n(65395),F=n(4940),H=n(51928),O=n(83514),q=n(35887),D=n(21214),j=n(70174);function B(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class V extends P().PureComponent{static getDerivedStateFromProps(e,t){return{isSearch:e.isSearch,page:e.isSearch&&!t.isSearch?0:t.page}}constructor(e){super(e),B(this,"onKeyDown",(e=>{const t=e.target,n=(0,q.p)(e,f.default.KeyCodes.ENTER);n&&(e.shiftKey||e.ctrlKey||e.altKey)||n&&null!=t&&t.classList.contains("more-modal__row")&&t.click()})),B(this,"handleJoin",((e,t)=>{t.stopPropagation(),this.setState({joiningChannel:e.id}),this.props.handleJoin(e,(()=>{this.setState({joiningChannel:""})})),this.isMemberOfChannel(e.id)&&this.props.closeModal(f.r8.MORE_CHANNELS)})),B(this,"createChannelRow",(e=>{var t;const n="".concat(e.display_name,", ").concat(e.purpose).toLowerCase();let a;a=(0,O.t2)(e)?P().createElement(R.ArchiveOutlineIcon,{size:18}):(0,I.pi)(e)?P().createElement(R.LockOutlineIcon,{size:18}):P().createElement(R.GlobeIcon,{size:18});let s=0;null!==(t=this.props.channelsMemberCount)&&void 0!==t&&t[e.id]&&(s=this.props.channelsMemberCount[e.id]);const r=this.isMemberOfChannel(e.id)?P().createElement("div",{id:"membershipIndicatorContainer","aria-label":(0,j._u)("more_channels.membership_indicator","Membership Indicator: Joined")},P().createElement(R.CheckIcon,{size:14}),P().createElement(y.FormattedMessage,{id:"more_channels.joined",defaultMessage:"Joined"})):null,l=(0,j.Us)(Z.channelPurpose.id,Z.channelPurpose.defaultMessage,{memberCount:s,channelPurpose:e.purpose||""}),i=P().createElement("div",{id:"channelPurposeContainer","aria-label":l},r,r?P().createElement("span",{className:"dot"}):null,P().createElement(R.AccountOutlineIcon,{size:14}),P().createElement("span",{"data-testid":"channelMemberCount-".concat(e.name)},s),e.purpose.length>0?P().createElement("span",{className:"dot"}):null,P().createElement("span",{className:"more-modal__description"},e.purpose)),o=M()("btn btn-sm",{"btn-secondary outlineButton":this.isMemberOfChannel(e.id),"btn-primary primaryButton":!this.isMemberOfChannel(e.id)}),h=P().createElement("button",{id:"joinViewChannelButton",onClick:t=>this.handleJoin(e,t),className:o,disabled:Boolean(this.state.joiningChannel),tabIndex:-1,"aria-label":this.isMemberOfChannel(e.id)?(0,j._u)("more_channels.view","View"):(0,j._u)("joinChannel.JoinButton","Join")},P().createElement(H.Z,{loading:this.state.joiningChannel===e.id,text:(0,j._u)("joinChannel.joiningButton","Joining...")},P().createElement(y.FormattedMessage,{id:this.isMemberOfChannel(e.id)?"more_channels.view":"joinChannel.JoinButton",defaultMessage:this.isMemberOfChannel(e.id)?"View":"Join"}))),c=e.shared?P().createElement(L.Z,{className:"shared-channel-icon",channelType:e.type,withTooltip:!0}):null;return P().createElement("div",{className:"more-modal__row",key:e.id,id:"ChannelRow-".concat(e.name),"data-testid":"ChannelRow-".concat(e.name),"aria-label":n,onClick:t=>this.handleJoin(e,t),tabIndex:0},P().createElement("div",{className:"more-modal__details"},P().createElement("div",{className:"style--none more-modal__name"},a,P().createElement("span",{id:"channelName"},e.display_name),c),i),P().createElement("div",{className:"more-modal__actions"},h))})),B(this,"nextPage",(e=>{var t;e.preventDefault(),this.setState({page:this.state.page+1,nextDisabled:!0}),this.nextTimeoutId=setTimeout((()=>this.setState({nextDisabled:!1})),500),this.props.nextPage(this.state.page+1),null===(t=this.channelListScroll.current)||void 0===t||t.scrollTo({top:0})})),B(this,"previousPage",(e=>{var t;e.preventDefault(),this.setState({page:this.state.page-1}),null===(t=this.channelListScroll.current)||void 0===t||t.scrollTo({top:0})})),B(this,"doSearch",(()=>{this.props.search(this.state.channelSearchValue),""===this.state.channelSearchValue&&this.setState({page:0})})),B(this,"handleChange",(e=>{null!=e&&e.currentTarget&&this.setState({channelSearchValue:null==e?void 0:e.currentTarget.value},(()=>this.doSearch()))})),B(this,"handleClear",(()=>{this.setState({channelSearchValue:""},(()=>this.doSearch()))})),B(this,"handleChecked",(()=>{this.props.rememberHideJoinedChannelsChecked?this.props.hideJoinedChannelsPreference(!1):this.props.hideJoinedChannelsPreference(!0)})),B(this,"getEmptyStateMessage",(()=>{if(this.state.channelSearchValue.length>0)return P().createElement(y.FormattedMessage,{id:"more_channels.noMore",tagName:"strong",defaultMessage:"No results for {text}",values:{text:this.state.channelSearchValue}});switch(this.props.filter){case G.Archived:return P().createElement(y.FormattedMessage,{id:"more_channels.noArchived",tagName:"strong",defaultMessage:"No archived channels"});case G.Private:return P().createElement(y.FormattedMessage,{id:"more_channels.noPrivate",tagName:"strong",defaultMessage:"No private channels"});case G.Public:return P().createElement(y.FormattedMessage,{id:"more_channels.noPublic",tagName:"strong",defaultMessage:"No public channels"});default:return P().createElement(y.FormattedMessage,{id:"more_channels.noChannels",tagName:"strong",defaultMessage:"No channels"})}})),B(this,"getFilterLabel",(()=>{switch(this.props.filter){case G.Archived:return P().createElement(y.FormattedMessage,{id:"more_channels.show_archived_channels",defaultMessage:"Channel Type: Archived"});case G.Public:return P().createElement(y.FormattedMessage,{id:"more_channels.show_public_channels",defaultMessage:"Channel Type: Public"});case G.Private:return P().createElement(y.FormattedMessage,{id:"more_channels.show_private_channels",defaultMessage:"Channel Type: Private"});default:return P().createElement(y.FormattedMessage,{id:"more_channels.show_all_channels",defaultMessage:"Channel Type: All"})}})),this.nextTimeoutId=0,this.state={joiningChannel:"",page:0,nextDisabled:!1,channelSearchValue:""},this.filter=P().createRef(),this.channelListScroll=P().createRef()}componentDidMount(){!D.tq()&&this.filter.current&&this.filter.current.focus(),document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}isMemberOfChannel(e){return this.props.myChannelMemberships[e]}render(){const e=this.props.channels;let t,n,a;if(this.props.loading&&0===e.length)t=P().createElement(N.Z,null);else if(0===e.length)t=P().createElement("div",{className:"no-channel-message","aria-label":this.state.channelSearchValue.length>0?(0,j.Us)(Z.noMore.id,Z.noMore.defaultMessage,{text:this.state.channelSearchValue}):(0,j._u)("widgets.channels_input.empty","No channels found")},P().createElement(x,null),P().createElement("h3",{className:"primary-message"},this.getEmptyStateMessage()),this.props.noResultsText);else{const e=this.state.page*this.props.channelsPerPage,s=e+this.props.channelsPerPage,r=this.props.channels.slice(e,s);t=r.map(this.createChannelRow),r.length>=this.props.channelsPerPage&&s<this.props.channels.length&&(n=P().createElement("button",{className:"btn btn-sm btn-tertiary filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled,"aria-label":(0,j._u)("more_channels.next","Next")},P().createElement(y.FormattedMessage,{id:"more_channels.next",defaultMessage:"Next"}))),this.state.page>0&&(a=P().createElement("button",{className:"btn btn-sm btn-tertiary filter-control filter-control__prev",onClick:this.previousPage,"aria-label":(0,j._u)("more_channels.prev","Previous")},P().createElement(y.FormattedMessage,{id:"more_channels.prev",defaultMessage:"Previous"})))}const s=P().createElement("div",{className:"filter-row filter-row--full"},P().createElement("span",{id:"searchIcon","aria-hidden":"true"},P().createElement("i",{className:"icon icon-magnify"})),P().createElement(J.Z,{id:"searchChannelsTextbox",ref:this.filter,className:"form-control filter-textbox",placeholder:this.props.intl.formatMessage({id:"filtered_channels_list.search",defaultMessage:"Search channels"}),onInput:this.handleChange,clearable:!0,onClear:this.handleClear,value:this.state.channelSearchValue,"aria-label":(0,j._u)("filtered_channels_list.search","Search Channels")})),r=P().createElement(R.CheckIcon,{size:18,color:"var(--button-bg)"}),l=[P().createElement(T.ck,{key:"channelsMoreDropdownAll",id:"channelsMoreDropdownAll",onClick:()=>this.props.changeFilter(G.All),leadingElement:P().createElement(R.GlobeCheckedIcon,{size:16}),labels:P().createElement(y.FormattedMessage,{id:"suggestion.all",defaultMessage:"All channel types"}),trailingElements:this.props.filter===G.All?r:null,"aria-label":(0,j._u)("suggestion.all","All channel types")}),P().createElement(T.ck,{key:"channelsMoreDropdownPublic",id:"channelsMoreDropdownPublic",onClick:()=>this.props.changeFilter(G.Public),leadingElement:P().createElement(R.GlobeIcon,{size:16}),labels:P().createElement(y.FormattedMessage,{id:"suggestion.public",defaultMessage:"Public channels"}),trailingElements:this.props.filter===G.Public?r:null,"aria-label":(0,j._u)("suggestion.public","Public channels")}),P().createElement(T.ck,{key:"channelsMoreDropdownPrivate",id:"channelsMoreDropdownPrivate",onClick:()=>this.props.changeFilter(G.Private),leadingElement:P().createElement(R.LockOutlineIcon,{size:16}),labels:P().createElement(y.FormattedMessage,{id:"suggestion.private",defaultMessage:"Private channels"}),trailingElements:this.props.filter===G.Private?r:null,"aria-label":(0,j._u)("suggestion.private","Private channels")})];this.props.canShowArchivedChannels&&l.push(P().createElement(T.Z0,{key:"channelsMoreDropdownSeparator"}),P().createElement(T.ck,{key:"channelsMoreDropdownArchived",id:"channelsMoreDropdownArchived",onClick:()=>this.props.changeFilter(G.Archived),leadingElement:P().createElement(R.ArchiveOutlineIcon,{size:16}),labels:P().createElement(y.FormattedMessage,{id:"suggestion.archive",defaultMessage:"Archived channels"}),trailingElements:this.props.filter===G.Archived?r:null,"aria-label":(0,j._u)("suggestion.archive","Archived channels")}));const i=P().createElement(P().Fragment,null,this.getFilterLabel(),P().createElement(R.ChevronDownIcon,{color:"rgba(var(--center-channel-color-rgb), 0.64)",size:16})),o=P().createElement(T.W2,{menuButton:{id:"menuWrapper",children:i},menu:{id:"browseChannelsDropdown","aria-label":(0,j._u)("more_channels.title","Browse channels")}},l.map((e=>e))),h=M()("get-app__checkbox",{checked:this.props.rememberHideJoinedChannelsChecked}),c=P().createElement("div",{id:"hideJoinedPreferenceCheckbox",onClick:this.handleChecked},P().createElement("button",{className:h,"aria-label":this.props.rememberHideJoinedChannelsChecked?(0,j._u)("more_channels.hide_joined_checked","Hide joined channels checkbox, checked"):(0,j._u)("more_channels.hide_joined_not_checked","Hide joined channels checkbox, not checked")},this.props.rememberHideJoinedChannelsChecked?P().createElement(F.Z,null):null),P().createElement(y.FormattedMessage,{id:"more_channels.hide_joined",defaultMessage:"Hide Joined"}));let d;d=0===e.length?(0,j._u)("more_channels.count_zero","0 Results"):1===e.length?(0,j._u)("more_channels.count_one","1 Result"):e.length>1?(0,j.Us)(Z.channelCount.id,Z.channelCount.defaultMessage,{count:e.length}):(0,j._u)("more_channels.count_zero","0 Results");const m=P().createElement("div",{className:"more-modal__dropdown"},P().createElement("span",{id:"channelCountLabel"},d),P().createElement("div",{id:"modalPreferenceContainer"},o,c));return P().createElement("div",{className:"filtered-user-list"},s,m,P().createElement("div",{role:"search",className:"more-modal__list",tabIndex:-1},P().createElement("div",{id:"moreChannelsList",tabIndex:-1,ref:this.channelListScroll},t)),P().createElement("div",{className:"filter-controls"},a,n))}}B(V,"propTypes",{channels:E().array.isRequired,channelsPerPage:E().number.isRequired,nextPage:E().func.isRequired,isSearch:E().bool.isRequired,search:E().func.isRequired,handleJoin:E().func.isRequired,noResultsText:E().element.isRequired,changeFilter:E().func.isRequired,closeModal:E().func.isRequired,hideJoinedChannelsPreference:E().func.isRequired,rememberHideJoinedChannelsChecked:E().bool.isRequired,canShowArchivedChannels:E().bool,loading:E().bool,channelsMemberCount:E().objectOf(E().number)});const Z=(0,y.defineMessages)({channelCount:{id:"more_channels.count",defaultMessage:"{count} Results"},channelPurpose:{id:"more_channels.channel_purpose",defaultMessage:"Channel Information: Membership Indicator: Joined, Member count {memberCount} , Purpose: {channelPurpose}"},noMore:{id:"more_channels.noMore",defaultMessage:"No results for {text}"}}),z=(0,y.injectIntl)(V);var W=n(8243),K=n(41894);function U(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let G=function(e){return e.All="All",e.Public="Public",e.Private="Private",e.Archived="Archived",e}({});class Y extends P().PureComponent{constructor(e){super(e),U(this,"activeChannels",[]),U(this,"loadComplete",(()=>{this.setState({loading:!1})})),U(this,"handleNewChannel",(()=>{this.handleExit(),this.closeEditRHS(),this.props.actions.openModal({modalId:f.r8.NEW_CHANNEL_MODAL,dialogType:A.default})})),U(this,"handleExit",(()=>{this.props.actions.closeModal(f.r8.MORE_CHANNELS)})),U(this,"closeEditRHS",(()=>{this.props.rhsOpen&&this.props.rhsState===f.Hp.EDIT_HISTORY&&this.props.actions.closeRightHandSide()})),U(this,"onChange",(e=>{this.state.search&&!e||this.setState({searchedChannels:[],serverError:null})})),U(this,"nextPage",(e=>{this.props.actions.getChannels(this.props.teamId,e+1,50).then((e=>{e.data&&e.data.length>0&&this.props.actions.getChannelsMemberCount(e.data.map((e=>e.id)))}))})),U(this,"handleJoin",(async(e,t)=>{var n;const{actions:a,currentUserId:s,teamId:r,teamName:l}=this.props;let i;this.isMemberOfChannel(e.id)||(i=await a.joinChannel(s,r,e.id)),null!==(n=i)&&void 0!==n&&n.error?this.setState({serverError:i.error.message}):(this.props.actions.getChannelsMemberCount([e.id]),(0,W.s)().push((0,K.d0)(l,e.name)),this.closeEditRHS()),t&&t()})),U(this,"search",(e=>{if(clearTimeout(this.searchTimeoutId),""===e)return this.onChange(!0),this.setState({search:!1,searchedChannels:[],searching:!1,searchTerm:e}),void(this.searchTimeoutId=0);this.setState({search:!0,searching:!0,searchTerm:e});const t=window.setTimeout((async()=>{try{const{data:n}=await this.props.actions.searchAllChannels(e,{team_ids:[this.props.teamId],nonAdminSearch:!0,include_deleted:!0});if(t!==this.searchTimeoutId)return;if(n){const e=n.map((e=>e.id));e.length>0&&this.props.actions.getChannelsMemberCount(e),this.setSearchResults(n.filter((e=>e.team_id===this.props.teamId)))}else this.setState({searchedChannels:[],searching:!1})}catch(e){this.setState({searchedChannels:[],searching:!1})}}),100);this.searchTimeoutId=t})),U(this,"setSearchResults",(e=>{let t=e.filter((e=>e.type!==f.default.PRIVATE_CHANNEL||this.isMemberOfChannel(e.id)));this.state.filter===G.Private&&(t=e.filter((e=>e.type===f.default.PRIVATE_CHANNEL&&this.isMemberOfChannel(e.id)))),this.state.filter===G.Public&&(t=e.filter((e=>e.type===f.default.OPEN_CHANNEL&&0===e.delete_at))),this.state.filter===G.Archived&&(t=e.filter((e=>0!==e.delete_at))),this.props.shouldHideJoinedChannels&&(t=this.getChannelsWithoutJoined(t)),this.setState({searchedChannels:t,searching:!1})})),U(this,"changeFilter",(e=>{this.search(this.state.searchTerm),this.setState({filter:e})})),U(this,"handleShowJoinedChannelsPreference",(e=>{this.search(this.state.searchTerm),this.props.actions.setGlobalItem(f.hC.HIDE_JOINED_CHANNELS,e.toString())})),U(this,"getChannelsWithoutJoined",(e=>e.filter((e=>!this.isMemberOfChannel(e.id))))),U(this,"getActiveChannels",(()=>{const{channels:e,archivedChannels:t,shouldHideJoinedChannels:n,privateChannels:a}=this.props,{search:s,searchedChannels:r,filter:l}=this.state,i=e.concat(a).sort(((e,t)=>e.display_name.localeCompare(t.display_name))),o=this.getChannelsWithoutJoined(i),h=this.getChannelsWithoutJoined(e),c=this.getChannelsWithoutJoined(t),d=this.getChannelsWithoutJoined(a),m={[G.All]:n?o:i,[G.Archived]:n?c:t,[G.Private]:n?d:a,[G.Public]:n?h:e};return s?r:m[l]||m[G.All]})),this.searchTimeoutId=0,this.state={loading:!0,filter:G.All,search:!1,searchedChannels:[],serverError:null,searching:!1,searchTerm:""}}componentDidMount(){if(!this.props.teamId)return void this.loadComplete();const e=[this.props.actions.getChannels(this.props.teamId,0,100)];this.props.canShowArchivedChannels&&e.push(this.props.actions.getArchivedChannels(this.props.teamId,0,100)),Promise.all(e).then((e=>{const t=e.flatMap((e=>e.data?e.data.map((e=>e.id)):[]));this.props.privateChannels.forEach((e=>t.push(e.id))),t.length>0&&this.props.actions.getChannelsMemberCount(t)})),this.loadComplete()}isMemberOfChannel(e){return this.props.myChannelMemberships[e]}render(){const{teamId:e,channelsRequestStarted:t,shouldHideJoinedChannels:n}=this.props,{search:a,serverError:s,searching:r}=this.state;let l;this.activeChannels=this.getActiveChannels(),s&&(l=P().createElement("div",{className:"form-group has-error"},P().createElement("label",{className:"control-label"},s)));const i=(t,n)=>{const a=M()("btn",t);return P().createElement(k.Z,{teamId:e,permissions:[w.Z.CREATE_PUBLIC_CHANNEL]},P().createElement("button",{type:"button",id:"createNewChannelButton",className:a,onClick:this.handleNewChannel,"aria-label":(0,j._u)("more_channels.create","Create New Channel")},n,P().createElement(y.FormattedMessage,{id:"more_channels.create",defaultMessage:"Create New Channel"})))},o=P().createElement(P().Fragment,null,P().createElement("p",{className:"secondary-message"},P().createElement(y.FormattedMessage,{id:"more_channels.searchError",defaultMessage:"Try searching different keywords, checking for typos or adjusting the filters."})),i("btn-primary",P().createElement("i",{className:"icon-plus"}))),h=this.state.loading?P().createElement(N.Z,null):P().createElement(P().Fragment,null,P().createElement(z,{channels:this.activeChannels,channelsPerPage:50,nextPage:this.nextPage,isSearch:a,search:this.search,handleJoin:this.handleJoin,noResultsText:o,loading:a?r:t,changeFilter:this.changeFilter,filter:this.state.filter,canShowArchivedChannels:this.props.canShowArchivedChannels,myChannelMemberships:this.props.myChannelMemberships,closeModal:this.props.actions.closeModal,hideJoinedChannelsPreference:this.handleShowJoinedChannelsPreference,rememberHideJoinedChannelsChecked:n,channelsMemberCount:this.props.channelsMemberCount}),l),c=P().createElement(y.FormattedMessage,{id:"more_channels.title",defaultMessage:"Browse Channels"});return P().createElement(S.$E,{onExited:this.handleExit,id:"browseChannelsModal","aria-labelledby":"browseChannelsModalLabel",compassDesign:!0,modalHeaderText:c,headerButton:i("btn-secondary btn-sm"),autoCloseOnConfirmButton:!1,"aria-modal":!0,enforceFocus:!1,bodyPadding:!1},h)}}U(Y,"propTypes",{channels:E().array.isRequired,archivedChannels:E().array.isRequired,privateChannels:E().array.isRequired,currentUserId:E().string.isRequired,teamId:E().string.isRequired,teamName:E().string,channelsRequestStarted:E().bool,canShowArchivedChannels:E().bool,shouldHideJoinedChannels:E().bool.isRequired,rhsOpen:E().bool,channelsMemberCount:E().objectOf(E().number),actions:E().shape({getChannels:E().func.isRequired,getArchivedChannels:E().func.isRequired,joinChannel:E().func.isRequired,searchAllChannels:E().func.isRequired,openModal:E().func.isRequired,closeModal:E().func.isRequired,setGlobalItem:E().func.isRequired,closeRightHandSide:E().func.isRequired,getChannelsMemberCount:E().func.isRequired}).isRequired});const $=(0,i.P1)("getChannelsWithoutArchived",o.zE,(e=>e&&e.filter((e=>0===e.delete_at&&e.type!==f.default.PRIVATE_CHANNEL)))),Q=(0,i.P1)("getArchivedOtherChannels",o.zE,(e=>e&&e.filter((e=>0!==e.delete_at)))),X=(0,i.P1)("getPrivateChannelsSelector",o.zE,(e=>e&&e.filter((e=>e.type===f.default.PRIVATE_CHANNEL)))),ee=(0,a.connect)((function(e){const t=(0,c.kA)(e),n=(0,C.bd)(f.hC.HIDE_JOINED_CHANNELS,"false");return{channels:$(e)||[],archivedChannels:Q(e)||[],privateChannels:X(e)||[],currentUserId:(0,d.rc)(e),teamId:(0,c.ev)(e),teamName:null==t?void 0:t.name,channelsRequestStarted:e.requests.channels.getChannels.status===l.eE.STARTED,canShowArchivedChannels:"true"===(0,h.iE)(e).ExperimentalViewArchivedChannels,myChannelMemberships:(0,o.h4)(e)||{},shouldHideJoinedChannels:"true"===n(e),rhsState:(0,g.kV)(e),rhsOpen:(0,g.aC)(e),channelsMemberCount:(0,o.bk)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({getChannels:r.Ky,getArchivedChannels:r.ey,joinChannel:r.JJ,searchAllChannels:r.Av,openModal:u.h,closeModal:u.M,setGlobalItem:m.Bc,closeRightHandSide:p.Lg,getChannelsMemberCount:r.bk},e)}}))(Y)},4940:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(84390),s=n.n(a);const r=()=>s().createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18"},s().createElement("g",{id:"Developer-Export",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},s().createElement("g",{transform:"translate(-285.000000, -933.000000)",id:"All-Team-Members"},s().createElement("g",{transform:"translate(245.000000, 698.000000)"},s().createElement("g",{id:"Channel-Administrators",transform:"translate(0.000000, 106.000000)"},s().createElement("g",{id:"data-table/column-1",transform:"translate(11.000000, 86.000000)"},s().createElement("g",{id:"row-checkbox---Public-Channels",transform:"translate(12.000000, 35.000000)"},s().createElement("g",{id:"Stacked-Group",transform:"translate(0.000000, 5.000000)"},s().createElement("g",{id:"data-table/1st/row-checkbox-label-base"},s().createElement("g",{id:"check-on-copy-11",transform:"translate(14.000000, 0.000000)"},s().createElement("path",{d:"M19,3 L5,3 C3.9,3 3,3.9 3,5 L3,19 C3,20.1 3.9,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,5 C21,3.9 20.1,3 19,3 L19,3 Z M10,17 L5,12.1923077 L6.4,10.8461538 L10,14.3076923 L17.6,7 L19,8.34615385 L10,17 L10,17 Z",id:"checkbox---checked"}))))))))))),l=(0,a.memo)(r)}}]);
//# sourceMappingURL=4363.6d09e96fb5a64684cf21.js.map