"use strict";(self.webpackChunkmattermost_webapp=self.webpackChunkmattermost_webapp||[]).push([[1187],{80806:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(23615),i=a.n(n),o=(a(20266),a(14078),a(52077),a(911),a(84390)),l=a.n(o),s=a(72060),r=a(70314),c=a(11298),d=a(83398),u=a(60042),p=a.n(u),m=a(34575),h=a(41894);function f(e){let{base:t,path:a,pathInfo:n,limit:i,maxLength:r,shortenLength:c,error:u,className:f,onChange:g,onBlur:_}=e;const{formatMessage:C}=(0,s.useIntl)(),[N,b]=(0,o.useState)(!1);(0,o.useEffect)((()=>{u&&b(!0)}),[u]);const E="".concat(t,"/").concat(a?"".concat(a,"/"):""),v="".concat(E).concat(N?"":n),k=c&&v.length>c,M=Boolean(u),y=l().createElement("span",{className:"url-input-label","data-testid":"urlInputLabel"},C({id:"url_input.label.url",defaultMessage:"URL: "}),k?(0,h.ZC)(v,c):v);return l().createElement("div",{className:p()("url-input-main",f)},l().createElement("div",{className:"url-input-container"},k?l().createElement(m.Z,{id:"urlTooltip",title:v,placement:"top"},y):y,(N||M)&&l().createElement(d.Z,{"data-testid":"channelURLInput",name:"url-input",type:"text",containerClassName:"url-input-editable-container",wrapperClassName:"url-input-editable-wrapper",inputClassName:"url-input-editable-path",autoFocus:!0,autoComplete:"off",value:n,limit:i,maxLength:r,hasError:M,onChange:e=>{e.preventDefault(),g&&g(e)},onBlur:e=>{e.preventDefault(),b(M),_&&_(e)}}),l().createElement("button",{className:p()("url-input-button",{disabled:M}),disabled:M,onClick:()=>{M||b(!N)}},l().createElement("span",{className:"url-input-button-label"},C(N?{id:"url_input.buttonLabel.done",defaultMessage:"Done"}:{id:"url_input.buttonLabel.edit",defaultMessage:"Edit"})))),u&&l().createElement("div",{className:"url-input-error"},l().createElement("i",{className:"icon icon-alert-outline"}),l().createElement("span",null,u)))}f.propTypes={base:i().string.isRequired,path:i().string,pathInfo:i().string.isRequired,limit:i().number,maxLength:i().number,shortenLength:i().number,error:i().string,className:i().string,onChange:i().func,onBlur:i().func};const g=f;var _=a(23712),C=a(70174);const N=e=>{var t;const a=(0,s.useIntl)(),{formatMessage:n}=a,i=(0,o.useRef)(!1),[u,p]=(0,o.useState)(""),m=(0,o.useRef)(""),f=(0,o.useRef)(!1),[N,b]=(0,o.useState)(""),[E,v]=(0,o.useState)(""),[k,M]=(0,o.useState)(null),y=null===(t=(0,r.useSelector)(c.kA))||void 0===t?void 0:t.name,T=e.team?e.team.name:y,w=(0,o.useCallback)((t=>{t.preventDefault();const{target:{value:a}}=t,n=function(e){const t=[],a=e.trim();return a.length<_.default.MIN_CHANNELNAME_LENGTH&&t.push((0,C._u)("channel_modal.name.longer","Channel names must have at least 2 characters.")),a.length>_.default.MAX_CHANNELNAME_LENGTH&&t.push((0,C._u)("channel_modal.name.shorter","Channel names must have maximum 64 characters.")),t}(a);if(p(n.length?n[n.length-1]:""),m.current=a,e.onDisplayNameChange(a),!f.current){const t=(0,h.oK)(a);b(t),v(""),e.onURLChange(t)}}),[e.onDisplayNameChange,e.onURLChange]),L=(0,o.useCallback)((()=>{if(m.current&&!N){const t=(0,C.GD)();b(t),e.onURLChange(t)}i.current||(i.current=!0,M(null))}),[e.onURLChange,m.current,N,i]),F=(0,o.useCallback)((t=>{t.preventDefault();const{target:{value:n}}=t,i=n.toLowerCase().replace(/\s/g,"-"),o=(0,h.pj)(i,a);v(o.length?o[o.length-1]:""),b(i),f.current=!0,e.onURLChange(i)}),[e.onURLChange]);return(0,o.useEffect)((()=>{e.onErrorStateChange&&e.onErrorStateChange(Boolean(u)||Boolean(E))}),[u,E]),l().createElement(l().Fragment,null,l().createElement(d.Z,{type:"text",autoComplete:"off",autoFocus:!1!==e.autoFocus,required:!0,name:e.name,containerClassName:"".concat(e.name,"-container"),inputClassName:"".concat(e.name,"-input channel-name-input-field"),label:n({id:"channel_modal.name.label",defaultMessage:"Channel name"}),placeholder:e.placeholder,limit:_.default.MAX_CHANNELNAME_LENGTH,value:e.value,customMessage:k,onChange:w,onBlur:L}),l().createElement(g,{className:"new-channel-modal__url",base:(0,h.fO)(),path:"".concat(T,"/channels"),pathInfo:N,limit:_.default.MAX_CHANNELNAME_LENGTH,shortenLength:_.default.DEFAULT_CHANNELURL_SHORTEN_LENGTH,error:E||e.urlError,onChange:F}))};N.propTypes={value:i().string.isRequired,name:i().string.isRequired,placeholder:i().string.isRequired,onDisplayNameChange:i().func.isRequired,onURLChange:i().func.isRequired,autoFocus:i().bool,onErrorStateChange:i().func,urlError:i().string};const b=N},91213:(e,t,a)=>{a.d(t,{Z:()=>A});var n=a(70314),i=a(36891),o=a(73443),l=a(43618),s=a(19601),r=a(83905),c=a(23615),d=a.n(c),u=(a(14078),a(92189),a(84390)),p=a.n(u),m=a(11313),h=a(72060),f=a(45448),g=a(22171),_=a(18654),C=a(63323),N=a(83499);function b(e){let{title:t,description:a,containerClassName:n,descriptionAboveContent:i=!1,checkboxFieldTitle:o,checkboxFieldData:l,checkboxFieldValue:s,handleCheckboxChange:r,selectFieldData:c,selectFieldValue:d,handleSelectChange:u,isSelectDisabled:m,selectPlaceholder:h}=e;const f=p().createElement(p().Fragment,null,p().createElement("fieldset",{key:l.name,className:"mm-modal-generic-section-item__fieldset-checkbox-ctr"},p().createElement("label",{className:"mm-modal-generic-section-item__fieldset-checkbox"},p().createElement("input",{className:"mm-modal-generic-section-item__input-checkbox","data-testid":l.dataTestId,type:"checkbox",name:l.name,checked:s,onChange:e=>r(e.target.checked)}),o)),p().createElement("fieldset",{className:"mm-modal-generic-section-item__fieldset-react-select"},p().createElement(C.ZP,{id:c.id,inputId:c.inputId,"aria-labelledby":c.ariaLabelledby,className:"react-select singleSelect react-select-top",classNamePrefix:"react-select",options:c.options,clearable:c.clearable,isClearable:c.clearable,isDisabled:m,isSearchable:!1,placeholder:h,onChange:e=>u(e),value:d,components:{IndicatorSeparator:E}})));return p().createElement(N.Z,{title:t,content:f,isContentInline:!0,description:a,className:n,descriptionAboveContent:i})}function E(){return null}function v(e){let{id:t,title:a,subtitle:n,handleClose:i}=e;return p().createElement("header",{className:"mm-modal-header"},p().createElement("h1",{id:"mm-modal-header-".concat(t),className:"mm-modal-header__title",tabIndex:0},a),p().createElement("div",{className:"mm-modal-header__vertical-divider"}),p().createElement("p",{className:"mm-modal-header__subtitle"},n),p().createElement("div",{className:"mm-modal-header__ctr",onClick:i},p().createElement("button",{className:"btn btn-icon"},p().createElement("i",{className:"icon icon-close"}))))}b.propTypes={containerClassName:d().string,descriptionAboveContent:d().bool,checkboxFieldTitle:d().node.isRequired,checkboxFieldValue:d().bool.isRequired,handleCheckboxChange:d().func.isRequired,handleSelectChange:d().func.isRequired,isSelectDisabled:d().bool,selectPlaceholder:d().string},v.propTypes={id:d().string.isRequired,title:d().string.isRequired,subtitle:d().string.isRequired,handleClose:d().func};const k=v;var M=a(74654);function y(e){let{title:t,description:a,className:n,inputFieldData:i,inputFieldValue:o,handleChange:l}=e;const s=i.options.map((e=>p().createElement("label",{key:e.key,className:"mm-modal-generic-section-item__label-radio"},p().createElement("input",{id:e.key,"data-testid":e.dataTestId,type:"radio",name:e.name,checked:e.value===o,value:e.value,onChange:l}),e.title,e.suffix))),r=p().createElement("fieldset",{className:"mm-modal-generic-section-item__fieldset-radio"},[...s]);return p().createElement(N.Z,{className:n,content:r,title:t,description:a})}y.propTypes={className:d().string,inputFieldData:d().shape({options:d().arrayOf(d().shape({dataTestId:d().string,title:d().node.isRequired,name:d().string.isRequired,key:d().string.isRequired,value:d().string.isRequired,suffix:d().element})).isRequired}).isRequired,inputFieldValue:d().string.isRequired,handleChange:d().func.isRequired};const T=y;var w=a(23712),L=a(15897);function F(e){return e?w.NZ.ON:w.NZ.OFF}const I={desktopNotificationInputFieldData:e=>({options:[{dataTestId:"desktopNotification-".concat(w.XH.ALL),title:p().createElement(h.FormattedMessage,{id:"channel_notifications.desktopNotificationAllLabel",defaultMessage:"All new messages"}),name:"desktopNotification-".concat(w.XH.ALL),key:"desktopNotification-".concat(w.XH.ALL),value:w.XH.ALL,suffix:e===w.XH.ALL?p().createElement(h.FormattedMessage,{id:"channel_notifications.default",defaultMessage:"(default)"}):void 0},{dataTestId:"desktopNotification-".concat(w.XH.MENTION),title:p().createElement(h.FormattedMessage,{id:"channel_notifications.desktopNotificationMentionLabel",defaultMessage:"Mentions, direct messages, and keywords only"}),name:"desktopNotification-".concat(w.XH.MENTION),key:"desktopNotification-".concat(w.XH.MENTION),value:w.XH.MENTION,suffix:e===w.XH.MENTION?p().createElement(h.FormattedMessage,{id:"channel_notifications.default",defaultMessage:"(default)"}):void 0},{dataTestId:"desktopNotification-".concat(w.XH.NONE),title:p().createElement(h.FormattedMessage,{id:"channel_notifications.desktopNotificationNothingLabel",defaultMessage:"Nothing"}),name:"desktopNotification-".concat(w.XH.NONE),key:"desktopNotification-".concat(w.XH.NONE),value:w.XH.NONE,suffix:e===w.XH.NONE?p().createElement(h.FormattedMessage,{id:"channel_notifications.default",defaultMessage:"(default)"}):void 0}]}),desktopNotificationSoundsCheckboxFieldData:{name:"desktopNotificationSoundsCheckbox",dataTestId:"desktopNotificationSoundsCheckbox"},desktopNotificationSoundsSelectFieldData:{id:"desktopNotificationSoundsSelect",inputId:"desktopNotificationSoundsSelectInputId",options:L.TU},IgnoreMentionsInputFieldData:{name:"ignore mentions",dataTestId:"ignoreMentions"},mobileNotificationInputFieldData:e=>({options:[{dataTestId:"MobileNotification-".concat(w.XH.ALL),title:p().createElement(h.FormattedMessage,{id:"channel_notifications.MobileNotificationAllLabel",defaultMessage:"All new messages"}),name:"MobileNotification-".concat(w.XH.ALL),key:"MobileNotification-".concat(w.XH.ALL),value:w.XH.ALL,suffix:e===w.XH.ALL?p().createElement(h.FormattedMessage,{id:"channel_notifications.default",defaultMessage:"(default)"}):void 0},{dataTestId:"MobileNotification-".concat(w.XH.MENTION),title:p().createElement(h.FormattedMessage,{id:"channel_notifications.MobileNotificationMentionLabel",defaultMessage:"Mentions, direct messages, and keywords only"}),name:"MobileNotification-".concat(w.XH.MENTION),key:"MobileNotification-".concat(w.XH.MENTION),value:w.XH.MENTION,suffix:e===w.XH.MENTION?p().createElement(h.FormattedMessage,{id:"channel_notifications.default",defaultMessage:"(default)"}):void 0},{dataTestId:"MobileNotification-".concat(w.XH.NONE),title:p().createElement(h.FormattedMessage,{id:"channel_notifications.MobileNotificationNothingLabel",defaultMessage:"Nothing"}),name:"MobileNotification-".concat(w.XH.NONE),key:"MobileNotification-".concat(w.XH.NONE),value:w.XH.NONE,suffix:e===w.XH.NONE?p().createElement(h.FormattedMessage,{id:"channel_notifications.default",defaultMessage:"(default)"}):void 0}]}),MuteChannelInputFieldData:{name:"mute channel",dataTestId:"muteChannel"},DesktopReplyThreadsInputFieldData:{name:"desktop reply threads",dataTestId:"desktopReplyThreads"},MobileReplyThreadsInputFieldData:{name:"mobile reply threads",dataTestId:"mobileReplyThreads"},AutoFollowThreadsInputFieldData:{name:"auto follow threads",dataTestId:"autoFollowThreads"},sameMobileSettingsDesktopInputFieldData:{name:"same mobile settings as Desktop",dataTestId:"sameMobileSettingsDesktop"}};function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){var n,i,o;n=e,i=t,o=a[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e){var t,a;const{formatMessage:n}=(0,h.useIntl)(),[i,o]=(0,u.useState)(!0),[l,s]=(0,u.useState)(""),[r,c]=(0,u.useState)(function(e,t){const a=t?(null==t?void 0:t.desktop)===(null==t?void 0:t.push):e.push===e.desktop,n=t?(null==t?void 0:t.desktop_threads)===(null==t?void 0:t.push_threads):e.push_threads===e.desktop_threads;return a&&n}(e.currentUser.notify_props,null===(t=e.channelMember)||void 0===t?void 0:t.notify_props)),[d,C]=(0,u.useState)(function(e,t){let a=w.Xi.OFF;((null==t?void 0:t.mark_unread)===w.XH.MENTION||e.channel&&"false"===e.channel)&&(a=w.Xi.ON);let n=null==t?void 0:t.ignore_channel_mentions;n&&n!==w.Xi.DEFAULT||(n=a);const i=(null==t?void 0:t.desktop)===w.XH.DEFAULT?e.desktop:(null==t?void 0:t.desktop)||e.desktop,o=(null==t?void 0:t.push)===w.XH.DEFAULT?e.desktop:(null==t?void 0:t.push)||e.push;let l,s;return l=t&&t.desktop_sound?t.desktop_sound:F(e.desktop_sound),s=t&&t.desktop_notification_sound?t.desktop_notification_sound:e&&e.desktop_notification_sound?e.desktop_notification_sound:L.II[0],{desktop:i,desktop_threads:(null==t?void 0:t.desktop_threads)||w.XH.ALL,desktop_sound:l,desktop_notification_sound:s,mark_unread:(null==t?void 0:t.mark_unread)||w.XH.ALL,push:o,push_threads:(null==t?void 0:t.push_threads)||w.XH.ALL,ignore_channel_mentions:n,channel_auto_follow_threads:(null==t?void 0:t.channel_auto_follow_threads)||"off"}}(e.currentUser.notify_props,null===(a=e.channelMember)||void 0===a?void 0:a.notify_props));function N(){o(!1)}const E=(0,u.useCallback)((e=>{C((t=>R(R({},t),e)))}),[]),v=(0,u.useCallback)((()=>{c((e=>!e)),C((e=>R(R({},e),{},{push:e.desktop,push_threads:e.desktop_threads})))}),[]),y=p().createElement(p().Fragment,null,p().createElement(_.Z,{inputFieldTitle:p().createElement(h.FormattedMessage,{id:"channel_notifications.muteChannelTitle",defaultMessage:"Mute channel"}),description:n({id:"channel_notifications.muteChannelDesc",defaultMessage:"Turns off notifications for this channel. You'll still see badges if you're mentioned."}),inputFieldValue:"mention"===d.mark_unread,inputFieldData:I.MuteChannelInputFieldData,handleChange:e=>E({mark_unread:e?"mention":"all"})}),p().createElement(_.Z,{inputFieldTitle:p().createElement(h.FormattedMessage,{id:"channel_notifications.ignoreMentionsTitle",defaultMessage:"Ignore mentions for @channel, @here and @all"}),description:n({id:"channel_notifications.ignoreMentionsDesc",defaultMessage:"When enabled, @channel, @here and @all will not trigger mentions or mention notifications in this channel"}),inputFieldValue:"on"===d.ignore_channel_mentions,inputFieldData:I.IgnoreMentionsInputFieldData,handleChange:e=>E({ignore_channel_mentions:e?"on":"off"})})),S=p().createElement(p().Fragment,null,p().createElement(T,{title:n({id:"channel_notifications.NotifyMeTitle",defaultMessage:"Notify me about…"}),inputFieldValue:d.desktop,inputFieldData:I.desktopNotificationInputFieldData(e.currentUser.notify_props.desktop),handleChange:e=>E({desktop:e.target.value})}),e.collapsedReplyThreads&&"mention"===d.desktop&&p().createElement(_.Z,{title:n({id:"channel_notifications.ThreadsReplyTitle",defaultMessage:"Thread reply notifications"}),inputFieldValue:"all"===d.desktop_threads,inputFieldData:I.DesktopReplyThreadsInputFieldData,inputFieldTitle:p().createElement(h.FormattedMessage,{id:"channel_notifications.checkbox.threadsReplyTitle",defaultMessage:"Notify me about replies to threads I\\'m following"}),handleChange:e=>E({desktop_threads:e?"all":"mention"})}),"none"!==d.desktop&&p().createElement(b,{title:n({id:"channel_notifications.desktopNotifications.title",defaultMessage:"Sounds"}),checkboxFieldTitle:p().createElement(h.FormattedMessage,{id:"channel_notifications.desktopNotifications.soundEnable",defaultMessage:"Message notification sounds"}),checkboxFieldValue:d.desktop_sound===w.NZ.ON,checkboxFieldData:I.desktopNotificationSoundsCheckboxFieldData,handleCheckboxChange:e=>E({desktop_sound:e?w.NZ.ON:w.NZ.OFF}),selectFieldData:I.desktopNotificationSoundsSelectFieldData,selectFieldValue:(0,L.dN)(d.desktop_notification_sound),isSelectDisabled:"on"!==d.desktop_sound,selectPlaceholder:n({id:"channel_notifications.desktopNotifications.soundSelectPlaceholder",defaultMessage:"Select a sound"}),handleSelectChange:e=>{(0,L.Ht)(),e&&"value"in e&&(E({desktop_notification_sound:e.value}),(0,L.zn)(e.value))}})),D=p().createElement(p().Fragment,null,p().createElement(_.Z,{inputFieldTitle:p().createElement(h.FormattedMessage,{id:"channel_notifications.checkbox.sameMobileSettingsDesktop",defaultMessage:"Use the same notification settings as desktop"}),inputFieldValue:r,inputFieldData:I.sameMobileSettingsDesktopInputFieldData,handleChange:()=>v()}),!r&&p().createElement(p().Fragment,null,p().createElement(T,{title:n({id:"channel_notifications.NotifyMeTitle",defaultMessage:"Notify me about…"}),inputFieldValue:d.push,inputFieldData:I.mobileNotificationInputFieldData(e.currentUser.notify_props.push),handleChange:e=>E({push:e.target.value})}),e.collapsedReplyThreads&&"mention"===d.push&&p().createElement(_.Z,{title:n({id:"channel_notifications.ThreadsReplyTitle",defaultMessage:"Thread reply notifications"}),inputFieldTitle:p().createElement(h.FormattedMessage,{id:"channel_notifications.checkbox.threadsReplyTitle",defaultMessage:"Notify me about replies to threads I\\'m following"}),inputFieldValue:"all"===d.push_threads,inputFieldData:I.MobileReplyThreadsInputFieldData,handleChange:e=>E({push_threads:e?"all":"mention"})}))),A=p().createElement(_.Z,{inputFieldTitle:p().createElement(h.FormattedMessage,{id:"channel_notifications.checkbox.autoFollowThreadsTitle",defaultMessage:"Automatically follow threads in this channel"}),inputFieldValue:"on"===d.channel_auto_follow_threads,inputFieldData:I.AutoFollowThreadsInputFieldData,handleChange:e=>E({channel_auto_follow_threads:e?"on":"off"})}),H=(0,u.useCallback)((t=>{var a,n;const i=R(R({},e.currentUser.notify_props),{},{desktop_notification_sound:null!==(a=null===(n=e.currentUser.notify_props)||void 0===n?void 0:n.desktop_notification_sound)&&void 0!==a?a:L.II[0]}),o=i.desktop===d.desktop&&i.desktop_threads===d.desktop_threads&&i.desktop_notification_sound===d.desktop_notification_sound&&F(i.desktop_sound)===d.desktop_sound,l=i.push===d.push&&i.push_threads===d.push_threads;if(!("desktop"===t&&o||"push"===t&&l))return p().createElement("button",{className:"channel-notifications-settings-modal__reset-btn",onClick:()=>function(e){var t;"desktop"===e&&C(R(R({},d),{},{desktop:i.desktop,desktop_threads:i.desktop_threads||d.desktop_threads,desktop_sound:F(i.desktop_sound),desktop_notification_sound:null!==(t=null==i?void 0:i.desktop_notification_sound)&&void 0!==t?t:L.II[0]})),"push"===e&&C(R(R({},d),{},{push:i.desktop,push_threads:i.push_threads||d.push_threads}))}(t),"data-testid":"resetToDefaultButton-".concat(t)},p().createElement(f.RefreshIcon,{size:14,color:"currentColor"}),p().createElement(h.FormattedMessage,{id:"channel_notifications.resetToDefault",defaultMessage:"Reset to default"}))}),[e.currentUser.notify_props,d]),x="all"===d.mark_unread?p().createElement(p().Fragment,null,p().createElement("div",{className:"channel-notifications-settings-modal__divider"}),p().createElement(M.Z,{title:n({id:"channel_notifications.desktopNotificationsTitle",defaultMessage:"Desktop Notifications"}),titleSuffix:H("desktop"),description:n({id:"channel_notifications.desktopNotificationsDesc",defaultMessage:"Available on Chrome, Edge, Firefox, and the Mattermost Desktop App."}),content:S}),p().createElement("div",{className:"channel-notifications-settings-modal__divider"}),p().createElement(M.Z,{title:n({id:"channel_notifications.mobileNotificationsTitle",defaultMessage:"Mobile Notifications"}),titleSuffix:H("push"),description:n({id:"channel_notifications.mobileNotificationsDesc",defaultMessage:"Notification alerts are pushed to your mobile device when there is activity in Mattermost."}),content:D})):p().createElement(g.Z,{id:"channelNotificationsMutedBanner",mode:"info",variant:"app",customIcon:p().createElement(f.BellOffOutlineIcon,{size:24,color:"currentColor"}),title:p().createElement(h.FormattedMessage,{id:"channel_notifications.alertBanner.title",defaultMessage:"This channel is muted"}),message:p().createElement(h.FormattedMessage,{id:"channel_notifications.alertBanner.description",defaultMessage:"All other notification preferences for this channel are disabled"})});return p().createElement(m.Modal,{dialogClassName:"a11y__modal channel-notifications-settings-modal",show:i,onHide:N,onExited:e.onExited,role:"dialog","aria-labelledby":"channelNotificationModalLabel",style:{display:"flex",placeItems:"center"}},p().createElement(k,{id:"channelNotificationModalLabel",title:n({id:"channel_notifications.preferences",defaultMessage:"Notification Preferences"}),subtitle:e.channel.display_name,handleClose:N}),p().createElement("main",{className:"channel-notifications-settings-modal__body"},p().createElement(M.Z,{title:n({id:"channel_notifications.muteAndIgnore",defaultMessage:"Mute or ignore"}),content:y}),x,e.collapsedReplyThreads&&p().createElement(p().Fragment,null,p().createElement("div",{className:"channel-notifications-settings-modal__divider"}),p().createElement(M.Z,{title:n({id:"channel_notifications.autoFollowThreadsTitle",defaultMessage:"Follow all threads in this channel"}),description:n({id:"channel_notifications.autoFollowThreadsDesc",defaultMessage:"When enabled, all new replies in this channel will be automatically followed and will appear in your Threads view."}),content:A}))),p().createElement("footer",{className:"channel-notifications-settings-modal__footer"},l&&p().createElement("span",{className:"channel-notifications-settings-modal__server-error"},l),p().createElement("button",{className:"btn btn-tertiary btn-md",onClick:N},p().createElement(h.FormattedMessage,{id:"generic_btn.cancel",defaultMessage:"Cancel"})),p().createElement("button",{className:"btn btn-primary btn-md",onClick:function(){const t=R({},d);e.collapsedReplyThreads||(delete t.push_threads,delete t.desktop_threads,delete t.channel_auto_follow_threads),e.actions.updateChannelNotifyProps(e.currentUser.id,e.channel.id,t).then((e=>{const{error:t}=e;t?s(t.message):N()}))}},p().createElement(h.FormattedMessage,{id:"generic_btn.save",defaultMessage:"Save"}))))}D.propTypes={onExited:d().func.isRequired};const A=(0,n.connect)((e=>({collapsedReplyThreads:(0,r.ym)(e),channelMember:(0,l.HU)(e),sendPushNotifications:"true"===(0,s.iE)(e).SendPushNotifications})),(e=>({actions:(0,i.bindActionCreators)({updateChannelNotifyProps:o.n$},e)})))(D)},78892:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A,getChannelTypeFromPermissions:()=>R}),a(14078),a(61418);var n=a(60042),i=a.n(n),o=a(84390),l=a.n(o),s=a(72060),r=a(70314),c=a(6098),d=a(84517),u=a(73443),p=a(52173),m=a(82),h=a(83905),f=a(84073),g=a(11298),_=a(9828),C=a(40364),N=a(80806),b=a(23615),E=a.n(b);function v(e){const{formatMessage:t}=(0,s.useIntl)();return l().createElement("span",e,l().createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg","aria-label":t({id:"generic_icons.check.circle",defaultMessage:"Check Circle Icon"})},l().createElement("path",{d:"M11 0.992024C9.192 0.992024 7.512 1.44802 5.96 2.36002C4.44 3.24002 3.24 4.44002 2.36 5.96002C1.448 7.51202 0.992 9.19202 0.992 11C0.992 12.808 1.448 14.488 2.36 16.04C3.24 17.56 4.44 18.76 5.96 19.64C7.512 20.552 9.192 21.008 11 21.008C12.808 21.008 14.488 20.552 16.04 19.64C17.56 18.76 18.76 17.56 19.64 16.04C20.552 14.488 21.008 12.808 21.008 11C21.008 9.19202 20.552 7.51202 19.64 5.96002C18.76 4.44002 17.56 3.24002 16.04 2.36002C14.488 1.44802 12.808 0.992024 11 0.992024ZM9.248 15.68L7.832 14.288L5 11.456L6.416 10.04L9.248 12.872L15.608 6.48802L17.024 7.90402L9.248 15.68Z"})))}function k(e){const{formatMessage:t}=(0,s.useIntl)();return l().createElement("span",e,l().createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg","aria-label":t({id:"generic_icons.globe.circleSolid",defaultMessage:"Globe Circle Solid Icon"})},l().createElement("rect",{width:"40",height:"40",rx:"20",fillOpacity:"0.08"}),l().createElement("path",{d:"M20 8.31042C17.8304 8.31042 15.8144 8.85762 13.952 9.95202C12.1472 11.0272 10.7072 12.4672 9.632 14.272C8.5376 16.1344 7.9904 18.1504 7.9904 20.32C7.9904 22.4896 8.5376 24.5056 9.632 26.368C10.7072 28.1728 12.1472 29.6128 13.952 30.688C15.8144 31.7824 17.8304 32.3296 20 32.3296C22.1696 32.3296 24.1856 31.7824 26.048 30.688C27.8528 29.6128 29.2928 28.1728 30.368 26.368C31.4624 24.5056 32.0096 22.4896 32.0096 20.32C32.0096 18.1504 31.4624 16.1344 30.368 14.272C29.2928 12.4672 27.8528 11.0272 26.048 9.95202C24.1856 8.85762 22.1696 8.31042 20 8.31042ZM29.5904 20.9248C29.3792 21.2128 28.8896 21.5296 28.1216 21.8752C27.1616 22.2976 26.0576 22.6144 24.8096 22.8256V18.7648C26.5184 18.4576 27.8336 18.0928 28.7552 17.6704C28.7936 17.632 28.8704 17.5936 28.9856 17.5552C29.12 17.5168 29.2064 17.4784 29.2448 17.44C29.4752 18.2656 29.5904 19.2256 29.5904 20.32V20.9248ZM18.2144 25.5904C18.4064 25.5904 18.6944 25.6096 19.0784 25.648C19.4816 25.6864 19.7888 25.7056 20 25.7056C20.8064 25.7056 21.4112 25.6672 21.8144 25.5904C21.5264 26.7424 21.2096 27.7024 20.864 28.4704C20.5568 29.1616 20.2688 29.6032 20 29.7952C19.712 29.584 19.4144 29.1424 19.1072 28.4704C18.7232 27.664 18.4256 26.704 18.2144 25.5904ZM20 23.3152C18.9632 23.3152 18.2048 23.2768 17.7248 23.2C17.7248 22.9312 17.7056 22.5088 17.6672 21.9328C17.6288 21.2416 17.6096 20.704 17.6096 20.32V18.9952C18.1664 19.072 18.9632 19.1104 20 19.1104C21.0368 19.1104 21.8336 19.072 22.3904 18.9952V20.32C22.3904 20.704 22.3712 21.2416 22.3328 21.9328C22.2944 22.5088 22.2752 22.9312 22.2752 23.2C21.7952 23.2768 21.0368 23.3152 20 23.3152ZM22.16 16.6048C21.68 16.6816 20.96 16.72 20 16.72C19.04 16.72 18.32 16.6816 17.84 16.6048C18.0704 15.0688 18.416 13.7248 18.8768 12.5728C19.2608 11.6128 19.6352 10.9984 20 10.7296C20.3648 10.9984 20.7392 11.6128 21.1232 12.5728C21.584 13.7248 21.9296 15.0688 22.16 16.6048ZM28.1504 15.28C27.536 15.5296 27.0272 15.7216 26.624 15.856C25.9328 16.0864 25.2416 16.2496 24.5504 16.3456C24.4352 15.424 24.2624 14.5216 24.032 13.6384C23.8016 12.7552 23.5424 11.9776 23.2544 11.3056C25.3472 12.0544 26.9792 13.3792 28.1504 15.28ZM11.8496 15.28C12.464 14.3392 13.184 13.5424 14.0096 12.8896C14.8736 12.1792 15.8336 11.6512 16.8896 11.3056C16.2752 12.6496 15.7952 14.3296 15.4496 16.3456C13.9712 16.0192 12.7712 15.664 11.8496 15.28ZM10.8704 17.44C10.928 17.4784 11.0144 17.5264 11.1296 17.584L11.36 17.6704C12.3968 18.1312 13.7216 18.496 15.3344 18.7648C15.2768 18.976 15.2384 19.216 15.2192 19.4848C15.2 19.6576 15.1904 19.936 15.1904 20.32C15.1904 21.4336 15.2384 22.2688 15.3344 22.8256C14.0864 22.6144 12.9824 22.2976 12.0224 21.8752C11.2352 21.5296 10.736 21.2128 10.5248 20.9248V20.32C10.4672 19.84 10.4672 19.3408 10.5248 18.8224C10.5824 18.304 10.6976 17.8432 10.8704 17.44ZM11.2448 24.1504C12.7424 24.7456 14.2208 25.1488 15.68 25.36C15.872 26.6464 16.2752 27.9616 16.8896 29.3056C15.6224 28.8832 14.4992 28.2208 13.52 27.3184C12.5408 26.416 11.7824 25.36 11.2448 24.1504ZM28.7552 24.1504C28.2176 25.36 27.4592 26.416 26.48 27.3184C25.5008 28.2208 24.3776 28.8832 23.1104 29.3056C23.7248 27.9616 24.128 26.6464 24.32 25.36C26.2208 25.0912 27.6992 24.688 28.7552 24.1504Z"})))}function M(e){const{formatMessage:t}=(0,s.useIntl)();return l().createElement("span",e,l().createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg","aria-label":t({id:"generic_icons.lock.circleSolid",defaultMessage:"Lock Circle Solid Icon"})},l().createElement("rect",{width:"40",height:"40",rx:"20",fillOpacity:"0.08"}),l().createElement("path",{d:"M27.2 29.9104V19.1104H12.8V29.9104H27.2ZM27.2 16.72C27.872 16.72 28.4384 16.9504 28.8992 17.4112C29.36 17.872 29.5904 18.4384 29.5904 19.1104V29.9104C29.5904 30.5824 29.3504 31.1488 28.8704 31.6096C28.4096 32.0896 27.8528 32.3296 27.2 32.3296H12.8C12.1472 32.3296 11.5808 32.0896 11.1008 31.6096C10.64 31.1488 10.4096 30.5824 10.4096 29.9104V19.1104C10.4096 18.4384 10.64 17.872 11.1008 17.4112C11.5808 16.9504 12.1472 16.72 12.8 16.72H14.0096V14.3296C14.0096 13.216 14.2688 12.208 14.7872 11.3056C15.3248 10.384 16.0448 9.65442 16.9472 9.11682C17.8688 8.57922 18.8864 8.31042 20 8.31042C21.1136 8.31042 22.1216 8.57922 23.024 9.11682C23.9456 9.65442 24.6656 10.384 25.184 11.3056C25.7216 12.208 25.9904 13.216 25.9904 14.3296V16.72H27.2ZM20 10.7296C19.328 10.7296 18.7136 10.8928 18.1568 11.2192C17.6192 11.5264 17.1872 11.9584 16.8608 12.5152C16.5536 13.0528 16.4 13.6576 16.4 14.3296V16.72H23.6V14.3296C23.6 13.6576 23.4368 13.0528 23.1104 12.5152C22.8032 11.9584 22.3712 11.5264 21.8144 11.2192C21.2768 10.8928 20.672 10.7296 20 10.7296Z"})))}function y(e){const{formatMessage:t}=(0,s.useIntl)();return l().createElement("span",e,l().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",viewBox:"2 2 20 20",role:"img","aria-label":t({id:"generic_icons.upgradeBadge",defaultMessage:"Upgrade badge"})},l().createElement("circle",{cx:"12",cy:"12",r:"10",fillOpacity:"0.08"}),l().createElement("path",{d:"M12,2c5.523,0,10,4.477,10,10s-4.477,10-10,10S2,17.523,2,12S6.477,2,12,2z M14.994,9.033 c0.218,0.217,0.327,0.47,0.327,0.76s-0.109,0.543-0.327,0.76c-0.218,0.217-0.472,0.326-0.762,0.326s-0.545-0.109-0.762-0.326 c-0.218-0.217-0.327-0.47-0.327-0.76s0.109-0.543,0.327-0.76c0.218-0.217,0.472-0.326,0.762-0.326S14.776,8.816,14.994,9.033z M16.555,7.477C15.902,6.826,15.115,6.5,14.195,6.5c-0.871,0-1.634,0.326-2.287,0.977c-0.508,0.507-0.823,1.11-0.944,1.809 c-0.097,0.675,0.012,1.315,0.327,1.918L6.5,15.98l1.525,1.52l1.561-1.556l1.561,1.556l1.525-1.52l-1.561-1.556l1.706-1.701 c0.605,0.314,1.246,0.422,1.924,0.326c0.702-0.121,1.307-0.434,1.815-0.941c0.653-0.651,0.968-1.423,0.944-2.316 C17.523,8.9,17.208,8.128,16.555,7.477z"})))}a(92189);var T=a(34575),w=a(23712);const L=e=>{let{id:t,title:a,description:n,iconSVG:s,titleClassName:r,descriptionClassName:c,iconClassName:d,tooltip:u,selected:p,disabled:m,locked:h,onClick:f}=e;const g=(0,o.useCallback)((e=>{e.preventDefault(),f(t)}),[t,f]),_=l().createElement("button",{id:"public-private-selector-button-".concat(t),className:i()("public-private-selector-button",{selected:p,disabled:m,locked:h}),onClick:g},l().createElement(s,{className:i()("public-private-selector-button-icon",d)}),l().createElement("div",{className:"public-private-selector-button-text"},l().createElement("div",{className:i()("public-private-selector-button-title",r)},a,h&&l().createElement(y,{className:"public-private-selector-button-icon-upgrade"})),l().createElement("div",{className:i()("public-private-selector-button-description",c)},n)),p&&l().createElement(v,{className:"public-private-selector-button-icon-check"}));return u?l().createElement(T.Z,{id:"'public-private-selector-button-tooltip'",placement:"top",title:u},_):_};L.propTypes={title:E().oneOfType([E().string,E().node]).isRequired,description:E().oneOfType([E().string,E().node]).isRequired,iconSVG:E().func.isRequired,titleClassName:E().string,descriptionClassName:E().string,iconClassName:E().string,tooltip:E().string,selected:E().bool,disabled:E().bool,locked:E().bool,onClick:E().func.isRequired};const F=e=>{let{selected:t,className:a,publicButtonProps:{title:n,description:r,titleClassName:c,descriptionClassName:d,iconClassName:u,tooltip:p,disabled:m,locked:h}={},privateButtonProps:{title:f,description:g,titleClassName:_,descriptionClassName:C,iconClassName:N,tooltip:b,disabled:E,locked:v}={},onChange:y}=e;const{formatMessage:T}=(0,s.useIntl)(),F=!m&&!h,I=!E&&!v,S=(0,o.useCallback)((e=>{e===t||e===w.Constants.OPEN_CHANNEL&&!F||e===w.Constants.PRIVATE_CHANNEL&&!I||y(e)}),[t,F,I,y]);return l().createElement("div",{className:i()("public-private-selector",a)},l().createElement(L,{id:w.Constants.OPEN_CHANNEL,title:n||T({id:"public_private_selector.public.title",defaultMessage:"Public"}),description:r||T({id:"public_private_selector.public.description",defaultMessage:"Anyone"}),iconSVG:k,titleClassName:c,descriptionClassName:d,iconClassName:u,tooltip:p,selected:t===w.Constants.OPEN_CHANNEL,disabled:m,locked:h,onClick:S}),l().createElement(L,{id:w.Constants.PRIVATE_CHANNEL,title:f||T({id:"public_private_selector.private.title",defaultMessage:"Private"}),description:g||T({id:"public_private_selector.private.description",defaultMessage:"Only invited members"}),iconSVG:M,titleClassName:_,descriptionClassName:C,iconClassName:N,tooltip:b,selected:t===w.Constants.PRIVATE_CHANNEL,disabled:E,locked:v,onClick:S}))};F.propTypes={className:E().string,publicButtonProps:E().shape({title:E().oneOfType([E().string,E().node]),description:E().oneOfType([E().string,E().node]),titleClassName:E().string,descriptionClassName:E().string,iconClassName:E().string,tooltip:E().string,selected:E().bool,disabled:E().bool,locked:E().bool}),privateButtonProps:E().shape({title:E().oneOfType([E().string,E().node]),description:E().oneOfType([E().string,E().node]),titleClassName:E().string,descriptionClassName:E().string,iconClassName:E().string,tooltip:E().string,selected:E().bool,disabled:E().bool,locked:E().bool}),onChange:E().func.isRequired};const I=F;var S=a(26742);function R(e,t){let a=w.default.OPEN_CHANNEL;return e||a!==w.default.OPEN_CHANNEL||(a=w.default.PRIVATE_CHANNEL),t||a!==w.default.PRIVATE_CHANNEL||(a=w.default.OPEN_CHANNEL),a}var D=function(e){return e.CHANNEL_URL_SIZE="model.channel.is_valid.1_or_more.app_error",e.CHANNEL_UPDATE_EXISTS="store.sql_channel.update.exists.app_error",e.CHANNEL_CREATE_EXISTS="store.sql_channel.save_channel.exists.app_error",e.CHANNEL_PURPOSE_SIZE="model.channel.is_valid.purpose.app_error",e}(D||{});const A=()=>{var e;const t=(0,s.useIntl)(),{formatMessage:a}=t,n=null===(e=(0,r.useSelector)(g.kA))||void 0===e?void 0:e.id,b=(0,r.useSelector)((e=>!!n&&(0,f.iM)(e,p.Z.CREATE_PUBLIC_CHANNEL))),E=(0,r.useSelector)((e=>!!n&&(0,f.iM)(e,p.Z.CREATE_PRIVATE_CHANNEL))),v=(0,r.useDispatch)(),[k,M]=(0,o.useState)(R(b,E)),[y,L]=(0,o.useState)(""),[F,A]=(0,o.useState)(""),[H,x]=(0,o.useState)(""),[O,P]=(0,o.useState)(""),[Z,X]=(0,o.useState)(""),[U,V]=(0,o.useState)(""),[B,q]=(0,o.useState)(!1),j=(0,r.useSelector)((e=>e.plugins.components)),z=null==j?void 0:j.CreateBoardFromTemplate,G=(0,r.useSelector)((e=>(0,h.U2)(e,m.Z.APP_BAR,m.Z.NEW_CHANNEL_WITH_BOARD_TOUR_SHOWED,""))),[W,K]=(0,o.useState)(!0),[$,J]=(0,o.useState)(void 0),Y=(0,o.useCallback)((e=>{A(e),P("")}),[]),Q=async()=>{if(!ie||!n)return;const e={team_id:n,name:F,display_name:y,purpose:H,header:"",type:k,create_at:0,creator_id:"",delete_at:0,group_constrained:!1,id:"",last_post_at:0,last_root_post_at:0,scheme_id:"",update_at:0};try{const{data:t,error:a}=await v((0,u.mi)(e,""));if(a)return void ae(a);if(te(),W&&z)try{ee(t.id)}catch(e){console.log(e.message)}v((0,_.qZ)(t))}catch(e){ae({message:a({id:"channel_modal.error.generic",defaultMessage:"Something went wrong. Please try again."})})}},ee=async e=>{if(!z||!n)return!1;if(!$)return!1;const t=$;if(t&&W){const a=await t(e,n);if(null==a||!a.id)return!1}return""===G&&v((0,d.f)({[m.Z.NEW_CHANNEL_WITH_BOARD_TOUR_SHOWED]:!1})),!0},te=()=>{v((0,C.M)(w.r8.NEW_CHANNEL_MODAL))},ae=e=>{let{server_error_id:t,message:n}=e;switch(t){case D.CHANNEL_URL_SIZE:P(a({id:"channel_modal.handleTooShort",defaultMessage:"Channel URL must be 1 or more lowercase alphanumeric characters"}));break;case D.CHANNEL_UPDATE_EXISTS:case D.CHANNEL_CREATE_EXISTS:P(a({id:"channel_modal.alreadyExist",defaultMessage:"A channel with that URL already exists"}));break;case D.CHANNEL_PURPOSE_SIZE:X(a({id:"channel_modal.purposeTooLong",defaultMessage:"The purpose exceeds the maximum of 250 characters"}));break;default:V(n)}},ne=(0,o.useCallback)((e=>{M(e),V("")}),[]),ie=y&&!O&&k&&!Z&&!U&&W&&!B,oe=l().createElement(T.Z,{id:"new-channel-with-board-tooltip",title:l().createElement(l().Fragment,null,l().createElement("div",{className:"title"},l().createElement(s.FormattedMessage,{id:"channel_modal.create_board.tooltip_title",defaultMessage:"Manage your task with a board"})),l().createElement("div",{className:"description"},l().createElement(s.FormattedMessage,{id:"channel_modal.create_board.tooltip_description",defaultMessage:"Use any of our templates to manage your tasks or start from scratch with your own!"}))),placement:"right"},l().createElement("i",{className:"icon-information-outline"}));return l().createElement(c.$E,{id:"new-channel-modal",className:"new-channel-modal",modalHeaderText:a({id:"channel_modal.modalTitle",defaultMessage:"Create a new channel"}),confirmButtonText:a({id:"channel_modal.createNew",defaultMessage:"Create channel"}),cancelButtonText:a({id:"channel_modal.cancel",defaultMessage:"Cancel"}),errorText:U,isConfirmDisabled:!ie,autoCloseOnConfirmButton:!1,compassDesign:!0,handleConfirm:Q,handleEnterKeyPress:Q,handleCancel:te,onExited:te},l().createElement("div",{className:"new-channel-modal-body"},l().createElement(N.Z,{value:y,name:"new-channel-modal-name",placeholder:a({id:"channel_modal.name.placeholder",defaultMessage:"Enter a name for your new channel"}),onDisplayNameChange:L,onURLChange:Y,onErrorStateChange:q,urlError:O}),l().createElement(I,{className:"new-channel-modal-type-selector",selected:k,publicButtonProps:{title:a({id:"channel_modal.type.public.title",defaultMessage:"Public Channel"}),description:a({id:"channel_modal.type.public.description",defaultMessage:"Anyone can join"}),disabled:!b},privateButtonProps:{title:a({id:"channel_modal.type.private.title",defaultMessage:"Private Channel"}),description:a({id:"channel_modal.type.private.description",defaultMessage:"Only invited members"}),disabled:!E},onChange:ne}),l().createElement("div",{className:"new-channel-modal-purpose-container"},l().createElement("textarea",{id:"new-channel-modal-purpose",className:i()("new-channel-modal-purpose-textarea",{"with-error":Z}),placeholder:a({id:"channel_modal.purpose.placeholder",defaultMessage:"Enter a purpose for this channel (optional)"}),rows:4,maxLength:w.default.MAX_CHANNELPURPOSE_LENGTH,autoComplete:"off",value:H,onChange:e=>{e.preventDefault();const{target:{value:t}}=e;x(t),X(""),V("")},onKeyDown:e=>{e.stopPropagation()}}),Z?l().createElement("div",{className:"new-channel-modal-purpose-error"},l().createElement("i",{className:"icon icon-alert-outline"}),l().createElement("span",null,Z)):l().createElement("div",{className:"new-channel-modal-purpose-info"},l().createElement("span",null,a({id:"channel_modal.purpose.info",defaultMessage:"This will be displayed when browsing for channels."}))),z&&l().createElement(S.default,{pluggableName:"CreateBoardFromTemplate",setCanCreate:K,setAction:J,newBoardInfoIcon:oe}))))}},56403:(e,t,a)=>{a.d(t,{Z:()=>E});var n=a(23615),i=a.n(n),o=(a(14078),a(60042)),l=a.n(o),s=a(84390),r=a.n(s),c=a(70314),d=a(85939),u=a.n(d),p=a(23894),m=a(61057),h=a(43223),f=a(83282),g=a(21128);const _=["id","name","className","disabled","dir","containerRef","defaultWidth","onResize","onResizeStart","onResizeEnd","onDividerDoubleClick"];const C=u().div.withConfig({displayName:"Divider"})(["position:absolute;z-index:50;top:0;width:12px;height:100%;cursor:col-resize;&.left{right:-12px;}&::after{position:absolute;width:4px;height:100%;background-color:",";content:'';}&:hover{&::after{background-color:var(--sidebar-text-active-border);transition:background-color 400ms step-end;}}&.snapped{&::after{animation:emphasis-sidebar-resize-line 800ms;}}"],(e=>{let{isActive:t}=e;return t?"var(--sidebar-text-active-border)":"transparent"})),N=(0,d.createGlobalStyle)([""," ",""],(e=>{let{active:t}=e;return t&&(0,d.css)(["body{cursor:col-resize;user-select:none;}"])}),(e=>{let{varName:t,width:a}=e;return a&&(0,d.css)([":root{--",":","px;}"],t,a)}));function b(e){let{id:t,name:a,className:n,disabled:i,dir:o,containerRef:d,defaultWidth:u,onResize:b,onResizeStart:E,onResizeEnd:v,onDividerDoubleClick:k}=e,M=function(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,_);const y=(0,s.useRef)(null),T=(0,s.useRef)(0),w=(0,s.useRef)(null),L=(0,s.useRef)(0),F="--".concat(M.globalCssVar),I=(0,c.useSelector)(p.rc),S=(0,c.useSelector)(m.E7),[R,D]=(0,s.useState)(!1),[A,H]=(0,h.j)(null,"resizable_".concat(a,":"),I),x=(e,t,a)=>{b&&b(e,t,a),((e,t,a)=>{var n;null===(n=d.current)||void 0===n||n.style.setProperty(t,a),w.current=e})(e,t,a)},O=()=>{T.current=0,L.current=0,w.current=null};return(0,s.useEffect)((()=>{if(!R||i)return void O();const e=e=>{var t;const a=y.current;if(!R)return;if(!a)return;e.preventDefault();const n=null!==(t=w.current)&&void 0!==t?t:0;let i=0;switch(o){case f._w.LEFT:i=e.clientX-L.current;break;case f._w.RIGHT:i=L.current-e.clientX}const l=n+i;if(a.classList.contains("snapped")){const t=l-u;if((0,g.p8)(t))return;return x(l,F,"".concat(l,"px")),a.classList.remove("snapped"),void(L.current=e.clientX)}L.current=e.clientX;const s=(0,g.Dn)(l,n,u)||(0,g.kp)(l,n,u);if((0,g.y8)(l-n)&&s){switch(o){case f._w.LEFT:L.current+=u-l;break;case f._w.RIGHT:L.current+=l-u}return x(u,F,"".concat(u,"px")),void a.classList.add("snapped")}x(l,F,"".concat(l,"px"))},t=()=>{var e,t;const a=null===(e=d.current)||void 0===e?void 0:e.getBoundingClientRect().width;R&&a&&(H(a),null==v||v(a,F,"".concat(a,"px"))),null===(t=d.current)||void 0===t||t.style.removeProperty(F),document.body.classList.remove("layout-changing"),O(),D(!1)};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}}),[R,i]),i||S?null:r().createElement(r().Fragment,null,r().createElement(C,{id:t,className:l()(n,{left:o===f._w.LEFT,right:o===f._w.RIGHT}),ref:y,isActive:R,onMouseDown:e=>{!i&&d.current&&(L.current=e.clientX,T.current=d.current.getBoundingClientRect().width,D(!0),E&&E(T.current),x(T.current,F,"".concat(T.current,"px")),document.body.classList.add("layout-changing"))},onDoubleClick:()=>{null==k||k(null!=A?A:0,F),O(),H(null)}}),r().createElement(N,{varName:M.globalCssVar,width:A,active:R}))}b.propTypes={id:i().string,className:i().string,name:i().string.isRequired,disabled:i().bool,defaultWidth:i().number.isRequired,onResizeStart:i().func,onResize:i().func,onResizeEnd:i().func,onDividerDoubleClick:i().func};const E=b},21128:(e,t,a)=>{a.d(t,{Dn:()=>l,kp:()=>s,lB:()=>r,p8:()=>i,y8:()=>o});var n=a(83282);const i=e=>Math.abs(e)<=n.v6,o=e=>Math.abs(e)<=n.is,l=(e,t,a)=>{const i=a-e,o=e>t;return i>=0&&i<=n.v6&&o},s=(e,t,a)=>{const i=e-a,o=e<t;return i>=0&&i<=n.v6&&o},r=e=>e===n.EJ.MEDIUM},43223:(e,t,a)=>{a.d(t,{j:()=>u});var n=a(84390),i=a(70314),o=a(4500),l=a(11298),s=a(23894),r=a(73318),c=a(59161);const d=(0,o.P1)("currentUserAndTeamSuffix",[s.rc,l.ev],((e,t)=>":".concat(e,":").concat(t)));function u(e,t,a){const o=(0,i.useDispatch)(),l=(0,i.useSelector)(d),s=a||l,u="".concat(t).concat(s);return[(0,i.useSelector)((0,c.bd)(u,e),i.shallowEqual),(0,n.useCallback)((e=>o((0,r.Bc)(u,e))),[u])]}}}]);
//# sourceMappingURL=1187.cb879f9ed178737e51ce.js.map